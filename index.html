<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pharmaceutical Market Analysis & BSV Dashboard</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap');

:root {
  --primary: #1a365d;
  --primary-light: #2d5a9e;
  --accent: #f97316;
  --success: #16a34a;
  --warning: #eab308;
  --danger: #dc2626;
  --bg: #f8fafc;
  --card: #ffffff;
  --text: #1e293b;
  --text-secondary: #64748b;
  --border: #e2e8f0;
  --shadow: 0 1px 3px rgba(0,0,0,0.08), 0 1px 2px rgba(0,0,0,0.06);
  --shadow-lg: 0 4px 12px rgba(0,0,0,0.1);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'DM Sans', sans-serif;
  background: var(--bg);
  color: var(--text);
  font-size: 13px;
}

.dashboard-header {
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  color: white;
  padding: 18px 28px;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.dashboard-header h1 {
  font-size: 20px;
  font-weight: 700;
  letter-spacing: -0.3px;
}

.dashboard-header .subtitle {
  opacity: 0.8;
  font-size: 12px;
  margin-top: 2px;
}

.kpi-bar {
  display: flex;
  gap: 4px;
  background: rgba(255,255,255,0.1);
  padding: 6px 10px;
  border-radius: 8px;
}

.kpi-item {
  text-align: center;
  padding: 4px 14px;
}

.kpi-item .kpi-val {
  font-family: 'Space Mono', monospace;
  font-size: 16px;
  font-weight: 700;
}

.kpi-item .kpi-label {
  font-size: 10px;
  opacity: 0.75;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Tabs */
.tab-nav {
  display: flex;
  background: white;
  border-bottom: 2px solid var(--border);
  padding: 0 20px;
  overflow-x: auto;
}

.tab-btn {
  padding: 12px 18px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary);
  border: none;
  background: none;
  border-bottom: 3px solid transparent;
  transition: all 0.2s;
  white-space: nowrap;
  font-family: 'DM Sans', sans-serif;
}

.tab-btn:hover { color: var(--primary); }
.tab-btn.active {
  color: var(--primary);
  border-bottom-color: var(--accent);
}

.tab-content { display: none; padding: 20px; }
.tab-content.active { display: block; }

/* Cards */
.card {
  background: var(--card);
  border-radius: 10px;
  box-shadow: var(--shadow);
  padding: 18px;
  margin-bottom: 16px;
}

.card-title {
  font-size: 14px;
  font-weight: 700;
  color: var(--primary);
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.card-title .icon { font-size: 16px; }

/* Tables */
.data-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;
}

.data-table th {
  background: var(--primary);
  color: white;
  padding: 8px 10px;
  text-align: center;
  font-weight: 600;
  font-size: 11px;
  position: sticky;
  top: 0;
  white-space: nowrap;
}

.data-table th:first-child { text-align: left; border-radius: 6px 0 0 0; }
.data-table th:last-child { border-radius: 0 6px 0 0; }

.data-table td {
  padding: 7px 10px;
  text-align: center;
  border-bottom: 1px solid var(--border);
  font-family: 'Space Mono', monospace;
  font-size: 11px;
}

.data-table td:first-child {
  text-align: left;
  font-family: 'DM Sans', sans-serif;
  font-weight: 500;
}

.data-table tr:hover { background: #f1f5f9; }

.data-table .total-row {
  font-weight: 700;
  background: #eef2ff;
  border-top: 2px solid var(--primary);
}

/* Badges */
.badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
  font-family: 'DM Sans', sans-serif;
}

.badge-high { background: #dcfce7; color: #166534; }
.badge-medium { background: #fef9c3; color: #854d0e; }
.badge-low { background: #fecaca; color: #991b1b; }
.badge-eroding { background: #fecaca; color: #991b1b; }
.badge-stable { background: #e0f2fe; color: #075985; }
.badge-inflating { background: #dcfce7; color: #166534; }
.badge-volza { background: #fef3c7; color: #92400e; }

/* Selectors */
.selector-bar {
  display: flex;
  gap: 8px;
  margin-bottom: 14px;
  flex-wrap: wrap;
  align-items: center;
}

.selector-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.pill-group {
  display: flex;
  gap: 4px;
  flex-wrap: wrap;
}

.pill {
  padding: 5px 12px;
  border-radius: 20px;
  border: 1px solid var(--border);
  background: white;
  cursor: pointer;
  font-size: 11px;
  font-family: 'DM Sans', sans-serif;
  font-weight: 500;
  transition: all 0.15s;
}

.pill:hover { border-color: var(--primary-light); }
.pill.active {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
}

/* Presence map */
.presence-grid {
  display: grid;
  grid-template-columns: 160px repeat(11, 1fr) 60px;
  gap: 1px;
  background: var(--border);
  border-radius: 8px;
  overflow: hidden;
  font-size: 11px;
}

.presence-grid .cell {
  background: white;
  padding: 6px 4px;
  text-align: center;
}

.presence-grid .cell.header {
  background: var(--primary);
  color: white;
  font-weight: 600;
  font-size: 10px;
}

.presence-grid .cell.mol {
  font-weight: 600;
  text-align: left;
  padding-left: 10px;
}

.presence-grid .cell .check { color: var(--success); font-weight: 700; }
.presence-grid .cell .dash { color: #cbd5e1; }

/* Charts */
.chart-container {
  position: relative;
  height: 280px;
  margin-top: 10px;
}

.chart-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

/* Table scroll */
.table-scroll {
  overflow-x: auto;
  max-height: 500px;
  overflow-y: auto;
}

/* BSV placeholder */
.bsv-placeholder {
  text-align: center;
  padding: 60px 20px;
  background: #f8fafc;
  border: 2px dashed var(--border);
  border-radius: 12px;
}

.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
.grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; }

@media (max-width: 900px) {
  .chart-grid, .grid-2, .grid-3 { grid-template-columns: 1fr; }
  .kpi-bar { flex-wrap: wrap; }
}
</style>
</head>
<body>

<div class="dashboard-header">
  <div>
    <h1>ðŸ“Š Pharmaceutical Market Analysis & BSV Dashboard</h1>
    <div class="subtitle">5 Molecules Â· 11 Focus Countries Â· IQVIA MAT Q2 2020â€“2025</div>
  </div>
  <div class="kpi-bar">
    <div class="kpi-item"><div class="kpi-val" id="kpi-total-bsv">â€”</div><div class="kpi-label">BSV Y3 Potential</div></div>
    <div class="kpi-item"><div class="kpi-val" id="kpi-total-market">â€”</div><div class="kpi-label">Total Market</div></div>
    <div class="kpi-item"><div class="kpi-val" id="kpi-pairs">â€”</div><div class="kpi-label">Mol-Country Pairs</div></div>
  </div>
</div>

<div class="tab-nav">
  <button class="tab-btn active" onclick="switchTab('tab1')">1. Executive Summary</button>
  <button class="tab-btn" onclick="switchTab('tab2')">2. Clinical Overview</button>
  <button class="tab-btn" onclick="switchTab('tab3')">3. US & EU5 Analysis</button>
  <button class="tab-btn" onclick="switchTab('tab4')">4. Focus Country Deep Dive</button>
  <button class="tab-btn" onclick="switchTab('tab5')">5. Competitor Intelligence</button>
  <button class="tab-btn" onclick="switchTab('tab6')">6. BSV Business Case</button>
</div>

<div id="tab1" class="tab-content active"></div>
<div id="tab2" class="tab-content"></div>
<div id="tab3" class="tab-content"></div>
<div id="tab4" class="tab-content"></div>
<div id="tab5" class="tab-content"></div>
<div id="tab6" class="tab-content"></div>

<script>
const D = {"mol_summary": [{"molecule": "IFN alfa", "global_competitors": 5, "sales_2025": 147.334565, "units_2025": 0.2507635277777778, "cagr_sales": 31.51819465141039, "cagr_units": 3.1326173183805928, "yoy_units": -2.5355266749122585, "top_formulation": "G", "sales_ts": [40.047103, 51.780684, 64.766008, 80.180296, 103.905646, 147.334565], "units_ts": [0.2509698888888889, 0.19609898611111112, 0.2286000138888889, 0.2518433611111111, 0.25728711111111113, 0.2507635277777778]}, {"molecule": "Long ACTING G-CSF", "global_competitors": 17, "sales_2025": 373.346756, "units_2025": 0.8703962678666667, "cagr_sales": -0.3745052602521115, "cagr_units": 9.272773537820967, "yoy_units": 9.974030171695913, "top_formulation": "G", "sales_ts": [353.492752, 404.95185, 377.572981, 343.469181, 359.73939, 373.346756], "units_ts": [0.52198525, 0.6066121333333333, 0.6670849166666667, 0.7239702865333334, 0.7914561888, 0.8703962678666667]}, {"molecule": "Long ACTING EPO", "global_competitors": 7, "sales_2025": 627.601147, "units_2025": 10.54926891, "cagr_sales": -0.15483364459235593, "cagr_units": 2.785700685106618, "yoy_units": 4.638023019410742, "top_formulation": "Parenteral", "sales_ts": [611.247491, 639.373814, 630.525411, 593.389214, 600.92772, 627.601147], "units_ts": [9.3160816, 9.3157025425, 9.714585180000002, 9.94715215, 10.081678347500002, 10.54926891]}, {"molecule": "EPO", "global_competitors": 50, "sales_2025": 1396.53199, "units_2025": 69.796922395, "cagr_sales": 2.837138393313121, "cagr_units": 5.995055516779213, "yoy_units": 6.268013747433843, "top_formulation": "Parenteral", "sales_ts": [1166.188971, 1242.863387, 1284.106188, 1278.01477, 1337.306191, 1396.53199], "units_ts": [53.07678760925, 54.48173075325, 58.61104348075, 62.012373143999994, 65.68008560025001, 69.796922395]}, {"molecule": "r-FIX", "global_competitors": 6, "sales_2025": 315.76157, "units_2025": 0.282276, "cagr_sales": 7.967869641141356, "cagr_units": 8.764093328610434, "yoy_units": 12.870331032483474, "top_formulation": "Parenteral", "sales_ts": [183.733275, 253.032908, 250.885566, 277.120636, 303.110958, 315.76157], "units_ts": [0.19821125, 0.2260715, 0.21939025, 0.27717375, 0.25008875, 0.282276]}], "focus_detail": [{"molecule": "EPO", "country": "BRAZIL", "sales_2025": 25.674534, "units_2025": 864585.0, "cagr_sales": 13.751070328085536, "cagr_units": 10.102501540280606, "yoy_units": 10.029098530947334, "price_unit": 29.695789309321814, "cagr_prices": 3.3137928173867293, "competitors": 5, "hhi": 5358.0, "sales_ts": [15.257615, 13.324801, 17.443599, 20.661176, 25.778623, 25.674534], "units_ts": [517235.5, 541342.5, 647763.0, 675261.5, 785778.5, 864585.0]}, {"molecule": "EPO", "country": "INDONESIA", "sales_2025": 28.044425, "units_2025": 2341447.951, "cagr_sales": 6.683137327731292, "cagr_units": 7.198280231321963, "yoy_units": 11.983084771057007, "price_unit": 11.97738561219036, "cagr_prices": -0.48055146265318927, "competitors": 7, "hhi": 3251.0, "sales_ts": [20.074482, 19.909991, 23.097193, 23.92758, 23.9827, 28.044425], "units_ts": [1650989.1, 1686870.8, 1900732.7, 1975640.9, 2090894.3, 2341448.0]}, {"molecule": "EPO", "country": "MALAYSIA", "sales_2025": 18.074176, "units_2025": 2447941.1155, "cagr_sales": 3.0942260285517165, "cagr_units": 5.844429877691515, "yoy_units": 6.049562439745482, "price_unit": 7.383419431765331, "cagr_prices": -2.5983453756780572, "competitors": 4, "hhi": 4676.0, "sales_ts": [16.816885, 17.1208, 16.49512, 16.89262, 16.44201, 18.074176], "units_ts": [2035093.6, 2088341.9, 2064414.7, 2300533.2, 2308299.1, 2447941.1]}, {"molecule": "EPO", "country": "MEXICO", "sales_2025": 12.561042, "units_2025": 1507428.2385, "cagr_sales": 18.81336281645405, "cagr_units": 14.003680486385829, "yoy_units": 28.991907915187554, "price_unit": 8.332762833539025, "cagr_prices": 4.21888338126295, "competitors": 6, "hhi": 2860.0, "sales_ts": [4.866648, 5.985249, 7.489103, 9.257864, 11.279808, 12.561042], "units_ts": [569146.1, 946990.0, 1017372.6, 1017694.0, 1168622.3, 1507428.2]}, {"molecule": "EPO", "country": "PERU", "sales_2025": 0.253644, "units_2025": 44729.5, "cagr_sales": -26.903734980824133, "cagr_units": -26.745049477452365, "yoy_units": -67.89211111908693, "price_unit": 5.670620060586414, "cagr_prices": -0.21662085939561093, "competitors": 4, "hhi": 9739.0, "sales_ts": [0.221767, 0.35221, 0.64944, 0.425852, 0.720253, 0.253644], "units_ts": [40573.5, 67202.0, 113784.5, 87745.0, 139310.0, 44729.5]}, {"molecule": "EPO", "country": "PHILIPPINES", "sales_2025": 47.871782, "units_2025": 2954025.301, "cagr_sales": 5.056514166881354, "cagr_units": 9.653665278888868, "yoy_units": 30.342039231201866, "price_unit": 16.205610014170965, "cagr_prices": -4.192428132990623, "competitors": 14, "hhi": 3771.0, "sales_ts": [39.373195, 40.646284, 41.286744, 37.941214, 37.259863, 47.871782], "units_ts": [1978190.7, 1940769.2, 2240499.0, 2277804.2, 2266364.2, 2954025.3]}, {"molecule": "EPO", "country": "RUSSIA", "sales_2025": 41.942813, "units_2025": 6324963.7015, "cagr_sales": 9.953592091576668, "cagr_units": 13.448562039876366, "yoy_units": 17.699086557603593, "price_unit": 6.631312839005389, "cagr_prices": -3.0806648277051263, "competitors": 7, "hhi": 5586.0, "sales_ts": [38.440185, 31.667407, 31.552174, 38.931418, 34.70841, 41.942813], "units_ts": [4400078.3, 4162634.7, 4331726.7, 5210058.5, 5373842.6, 6324963.7]}, {"molecule": "EPO", "country": "SAUDI ARABIA", "sales_2025": 42.288729, "units_2025": 1373104.2525, "cagr_sales": -2.4276455598559066, "cagr_units": 1.3331710836846034, "yoy_units": 16.993141089383744, "price_unit": 30.797901122952062, "cagr_prices": -3.711338156421362, "competitors": 4, "hhi": 6628.0, "sales_ts": [32.611507, 40.211392, 45.524405, 41.108134, 38.000502, 42.288729], "units_ts": [1281493.1, 1131487.6, 1319619.2, 1245110.5, 1173662.2, 1373104.3]}, {"molecule": "EPO", "country": "THAILAND", "sales_2025": 89.316506, "units_2025": 5113744.4805, "cagr_sales": 1.483539028665537, "cagr_units": 3.048187553666981, "yoy_units": 1.6969520249863645, "price_unit": 17.465969670676042, "cagr_prices": -1.5183658850735138, "competitors": 11, "hhi": 1580.0, "sales_ts": [93.043869, 85.762918, 85.456463, 79.771937, 86.18238, 89.316506], "units_ts": [4409154.6, 4385872.6, 4673238.6, 4335595.8, 5028414.7, 5113744.5]}, {"molecule": "EPO", "country": "UAE", "sales_2025": 7.777026, "units_2025": 244642.28, "cagr_sales": 42.50572259643337, "cagr_units": 45.971574390333814, "yoy_units": 61.143443828704626, "price_unit": 31.789378352752436, "cagr_prices": -2.374333364818426, "competitors": 4, "hhi": 6479.0, "sales_ts": [2.285882, 3.132907, 2.687303, 2.955086, 4.935158, 7.777026], "units_ts": [64824.4, 86761.7, 78655.1, 89829.2, 151816.5, 244642.3]}, {"molecule": "EPO", "country": "VIETNAM", "sales_2025": 51.230061, "units_2025": 5150291.229, "cagr_sales": 6.002434117908995, "cagr_units": 12.127476685869043, "yoy_units": -0.015858422731584998, "price_unit": 9.947022162850978, "cagr_prices": -5.462570592861605, "competitors": 11, "hhi": 1681.0, "sales_ts": [34.530091, 37.124817, 43.010784, 53.911354, 53.384865, 51.230061], "units_ts": [2326702.9, 2975016.3, 3653386.7, 4314566.4, 5151108.1, 5150291.2]}, {"molecule": "IFN alfa", "country": "BRAZIL", "sales_2025": 0.001286, "units_2025": 4.0, "cagr_sales": -71.92127574104367, "cagr_units": -72.14117762705348, "yoy_units": -98.75776397515527, "price_unit": 321.5, "cagr_prices": 0.7893437958933269, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.025605, 0.016524, 0.058091, 0.110269, 0.115684, 0.001286], "units_ts": [73.0, 57.0, 185.0, 317.0, 322.0, 4.0]}, {"molecule": "IFN alfa", "country": "MALAYSIA", "sales_2025": 0.0, "units_2025": 0.0, "cagr_sales": null, "cagr_units": null, "yoy_units": null, "price_unit": null, "cagr_prices": null, "competitors": 0, "hhi": 0, "sales_ts": [0.349452, 0.401771, 0.273041, 0.332791, 0.060185, 0.0], "units_ts": [2492.0, 2812.0, 1941.0, 2353.0, 426.0, 0.0]}, {"molecule": "IFN alfa", "country": "MEXICO", "sales_2025": 0.165479, "units_2025": 662.0, "cagr_sales": 4.183090444347148, "cagr_units": -1.8899891313476358, "yoy_units": -54.59533607681756, "price_unit": 249.96827794561935, "cagr_prices": 6.190071249533657, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.126933, 0.129011, 0.146336, 0.122405, 0.390254, 0.165479], "units_ts": [619.0, 616.0, 701.0, 533.0, 1458.0, 662.0]}, {"molecule": "IFN alfa", "country": "RUSSIA", "sales_2025": 0.361557, "units_2025": 6244.055555555557, "cagr_sales": -44.57177014178433, "cagr_units": -45.46976800878004, "yoy_units": 62.77281350924706, "price_unit": 57.90419332164814, "cagr_prices": 1.6467890089671977, "competitors": 4, "hhi": 7300.0, "sales_ts": [7.613543, 2.891438, 2.123165, 1.659799, 0.233762, 0.361557], "units_ts": [129512.1, 51717.6, 38508.3, 26983.6, 3836.1, 6244.1]}, {"molecule": "IFN alfa", "country": "SAUDI ARABIA", "sales_2025": 0.006886, "units_2025": 14.0, "cagr_sales": -80.3864809151169, "cagr_units": -80.73200653413785, "yoy_units": -96.3254593175853, "price_unit": 491.85714285714283, "cagr_prices": 1.793262072841828, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.681088, 0.609275, 0.912642, 1.313906, 0.157283, 0.006886], "units_ts": [1672.0, 1400.9, 1957.1, 2943.5, 381.0, 14.0]}, {"molecule": "IFN alfa", "country": "UAE", "sales_2025": 0.244915, "units_2025": 878.0, "cagr_sales": 5.676098515994199, "cagr_units": 5.6753902024079705, "yoy_units": -38.25597749648383, "price_unit": 278.9464692482916, "cagr_prices": 0.0006702729792307238, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.817009, 0.232646, 0.207532, 0.406721, 0.396675, 0.244915], "units_ts": [2929.0, 834.0, 744.0, 1458.0, 1422.0, 878.0]}, {"molecule": "IFN alfa", "country": "VIETNAM", "sales_2025": 0.0, "units_2025": 0.0, "cagr_sales": null, "cagr_units": null, "yoy_units": null, "price_unit": null, "cagr_prices": null, "competitors": 0, "hhi": 0, "sales_ts": [0.0, 0.001889, 0.0, 0.015038, 0.00791, 0.0], "units_ts": [0.0, 24.0, 0.0, 194.0, 103.0, 0.0]}, {"molecule": "Long ACTING EPO", "country": "BRAZIL", "sales_2025": 0.042732, "units_2025": 812.5, "cagr_sales": 92.56937090053603, "cagr_units": 86.62555784086241, "yoy_units": 4.8387096774193505, "price_unit": 52.59323076923077, "cagr_prices": 3.184886962128708, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.007687, 0.003664, 0.005984, 0.015664, 0.045054, 0.042732], "units_ts": [150.0, 87.5, 125.0, 300.0, 775.0, 812.5]}, {"molecule": "Long ACTING EPO", "country": "INDONESIA", "sales_2025": 0.558478, "units_2025": 5109.5, "cagr_sales": 59.87743001285255, "cagr_units": 20.441343848627767, "yoy_units": 5.6609626221372, "price_unit": 109.30188863881006, "cagr_prices": 32.7429808602838, "competitors": 2, "hhi": 5238.0, "sales_ts": [0.06864, 0.134123, 0.136661, 0.186058, 0.217251, 0.558478], "units_ts": [1504.0, 2904.5, 2924.5, 4220.5, 4835.8, 5109.5]}, {"molecule": "Long ACTING EPO", "country": "MALAYSIA", "sales_2025": 2.50818, "units_2025": 75630.0, "cagr_sales": 17.78790566889059, "cagr_units": 19.879932855567482, "yoy_units": 42.50586472965716, "price_unit": 33.16382387941293, "cagr_prices": -1.7451020674139062, "competitors": 1, "hhi": 10000.0, "sales_ts": [1.13233, 1.465705, 1.534817, 1.638779, 1.673334, 2.50818], "units_ts": [31899.5, 39362.5, 43899.0, 49773.0, 53071.5, 75630.0]}, {"molecule": "Long ACTING EPO", "country": "MEXICO", "sales_2025": 3.618468, "units_2025": 49764.39000000001, "cagr_sales": -2.313708590805319, "cagr_units": -2.9688181994453333, "yoy_units": -21.91128493837109, "price_unit": 72.71199345556128, "cagr_prices": 0.6751536943933933, "competitors": 2, "hhi": 5540.0, "sales_ts": [3.691979, 3.609854, 3.881717, 5.082994, 5.187913, 3.618468], "units_ts": [52906.3, 51584.7, 54473.4, 67383.9, 63728.0, 49764.4]}, {"molecule": "Long ACTING EPO", "country": "PERU", "sales_2025": 0.000879, "units_2025": 0.0, "cagr_sales": null, "cagr_units": null, "yoy_units": null, "price_unit": null, "cagr_prices": null, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.000351, 0.0, 0.0, 0.000607, 0.003605, 0.000879], "units_ts": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]}, {"molecule": "Long ACTING EPO", "country": "RUSSIA", "sales_2025": 10.896919, "units_2025": 312775.13, "cagr_sales": -1.6850475804197518, "cagr_units": 6.081443152120003, "yoy_units": -3.813664011019735, "price_unit": 34.83946757531521, "cagr_prices": -7.321252899437514, "competitors": 4, "hhi": 6847.0, "sales_ts": [15.335275, 12.0303, 11.466873, 12.029392, 11.346581, 10.896919], "units_ts": [310560.3, 272379.6, 262007.6, 263714.9, 325176.3, 312775.1]}, {"molecule": "Long ACTING EPO", "country": "SAUDI ARABIA", "sales_2025": 99.408222, "units_2025": 1429616.0, "cagr_sales": 13.735793669408181, "cagr_units": 22.883407031916867, "yoy_units": 42.98647964745865, "price_unit": 69.53491147273114, "cagr_prices": -7.444140412002698, "competitors": 1, "hhi": 10000.0, "sales_ts": [48.001285, 64.458846, 67.566406, 70.943446, 72.069872, 99.408222], "units_ts": [566398.5, 736355.5, 770441.5, 889259.0, 999826.0, 1429616.0]}, {"molecule": "Long ACTING EPO", "country": "THAILAND", "sales_2025": 5.290612, "units_2025": 64102.5, "cagr_sales": 16.55051698399297, "cagr_units": 17.46279828550432, "yoy_units": 13.683622482232094, "price_unit": 82.53362973362974, "cagr_prices": -0.7766555154713362, "competitors": 1, "hhi": 10000.0, "sales_ts": [3.56843, 3.059147, 3.341668, 3.972724, 4.426961, 5.290612], "units_ts": [38962.8, 33511.8, 39552.5, 49562.8, 56386.8, 64102.5]}, {"molecule": "Long ACTING EPO", "country": "UAE", "sales_2025": 24.32677, "units_2025": 190476.0, "cagr_sales": 10.207016494946686, "cagr_units": 10.1126942289397, "yoy_units": 7.143218751582037, "price_unit": 127.71567021567022, "cagr_prices": 0.08565975673147097, "competitors": 1, "hhi": 10000.0, "sales_ts": [15.368963, 15.418447, 18.174259, 20.560918, 22.721756, 24.32677], "units_ts": [122784.5, 122071.0, 142668.5, 160861.0, 177777.0, 190476.0]}, {"molecule": "Long ACTING G-CSF", "country": "BRAZIL", "sales_2025": 1.073611, "units_2025": 1121.4666666666667, "cagr_sales": 51.18279345847652, "cagr_units": 45.82297762343064, "yoy_units": 29.23100560805103, "price_unit": 957.3276067055046, "cagr_prices": 3.675563290777739, "competitors": 5, "hhi": 7392.0, "sales_ts": [0.174766, 0.157114, 0.310699, 0.671096, 0.931563, 1.073611], "units_ts": [189.0, 197.1, 361.7, 683.5, 867.8, 1121.5]}, {"molecule": "Long ACTING G-CSF", "country": "MALAYSIA", "sales_2025": 1.553934, "units_2025": 19690.0, "cagr_sales": 14.853933395647356, "cagr_units": 41.36361612027009, "yoy_units": 19.63059724163072, "price_unit": 78.9199593702387, "cagr_prices": -18.752832908623862, "competitors": 2, "hhi": 5748.0, "sales_ts": [1.090131, 1.223411, 1.02564, 1.105339, 1.230541, 1.553934], "units_ts": [3454.0, 4229.0, 6970.0, 13126.0, 16459.0, 19690.0]}, {"molecule": "Long ACTING G-CSF", "country": "MEXICO", "sales_2025": 1.745627, "units_2025": 1288.0, "cagr_sales": 1.0508280252761182, "cagr_units": 0.3912402913386126, "yoy_units": 98.76543209876543, "price_unit": 1355.3004658385094, "cagr_prices": 0.6570172178602007, "competitors": 4, "hhi": 7626.0, "sales_ts": [0.600938, 0.613612, 1.691733, 1.032239, 0.974408, 1.745627], "units_ts": [468.0, 461.0, 1273.0, 789.0, 648.0, 1288.0]}, {"molecule": "Long ACTING G-CSF", "country": "PHILIPPINES", "sales_2025": 1.307704, "units_2025": 6118.666666666667, "cagr_sales": 23.714171491509937, "cagr_units": 32.876975944692674, "yoy_units": 87.68916155419224, "price_unit": 213.72368707779472, "cagr_prices": -6.895705134798202, "competitors": 3, "hhi": 5317.0, "sales_ts": [0.719187, 0.662035, 0.690639, 0.718532, 0.726051, 1.307704], "units_ts": [2072.0, 2091.0, 2608.0, 3084.0, 3260.0, 6118.7]}, {"molecule": "Long ACTING G-CSF", "country": "RUSSIA", "sales_2025": 23.536015, "units_2025": 77166.75, "cagr_sales": 20.153692699911808, "cagr_units": 29.503465398533745, "yoy_units": 48.35480149956744, "price_unit": 305.0020248358263, "cagr_prices": -7.219708499574862, "competitors": 2, "hhi": 9174.0, "sales_ts": [4.837095, 7.494699, 13.568179, 21.409225, 15.68526, 23.536015], "units_ts": [11501.2, 20220.0, 35529.2, 52157.8, 52015.0, 77166.8]}, {"molecule": "Long ACTING G-CSF", "country": "SAUDI ARABIA", "sales_2025": 6.716409, "units_2025": 13665.384533333334, "cagr_sales": 3.633593498697052, "cagr_units": 16.403973241151036, "yoy_units": 20.046716961238587, "price_unit": 491.49066999300146, "cagr_prices": -10.970742137811673, "competitors": 5, "hhi": 4718.0, "sales_ts": [5.923519, 5.639057, 6.034419, 5.297408, 6.245155, 6.716409], "units_ts": [7075.0, 8054.0, 8664.0, 9248.0, 11383.4, 13665.4]}, {"molecule": "Long ACTING G-CSF", "country": "THAILAND", "sales_2025": 2.981407, "units_2025": 7807.0, "cagr_sales": 2.7867470978667708, "cagr_units": 9.050893771602443, "yoy_units": -7.280285035629452, "price_unit": 381.88894581785576, "cagr_prices": -5.744241479446632, "competitors": 5, "hhi": 5064.0, "sales_ts": [2.31366, 2.616076, 2.745427, 3.280387, 3.372635, 2.981407], "units_ts": [3955.0, 4943.0, 6020.0, 7704.0, 8420.0, 7807.0]}, {"molecule": "Long ACTING G-CSF", "country": "UAE", "sales_2025": 1.782029, "units_2025": 2880.0, "cagr_sales": 45.11663708708438, "cagr_units": 60.31411824343227, "yoy_units": 26.593406593406588, "price_unit": 618.7600694444444, "cagr_prices": -9.479814580816248, "competitors": 2, "hhi": 9468.0, "sales_ts": [0.0, 0.0, 0.583127, 1.51508, 1.581272, 1.782029], "units_ts": [0.0, 0.0, 699.0, 1957.0, 2275.0, 2880.0]}, {"molecule": "Long ACTING G-CSF", "country": "VIETNAM", "sales_2025": 17.600947, "units_2025": 76872.0, "cagr_sales": 23.018236744785693, "cagr_units": 27.79975324754842, "yoy_units": 31.3669531930892, "price_unit": 228.9643433239671, "cagr_prices": -3.741412938021016, "competitors": 4, "hhi": 2753.0, "sales_ts": [5.154017, 9.082228, 9.45426, 11.328448, 13.665917, 17.600947], "units_ts": [17483.0, 32936.0, 36828.0, 45837.0, 58517.0, 76872.0]}, {"molecule": "r-FIX", "country": "INDONESIA", "sales_2025": 0.275316, "units_2025": 397.5, "cagr_sales": null, "cagr_units": null, "yoy_units": -58.179905312993164, "price_unit": 692.6188679245283, "cagr_prices": null, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.0, 0.0, 0.0, 0.185145, 0.635609, 0.275316], "units_ts": [0.0, 0.0, 0.0, 309.2, 950.5, 397.5]}, {"molecule": "r-FIX", "country": "MALAYSIA", "sales_2025": 0.523782, "units_2025": 2750.5, "cagr_sales": null, "cagr_units": null, "yoy_units": -58.03966437833714, "price_unit": 190.4315578985639, "cagr_prices": null, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.0, 0.0, 0.0, 0.336805, 1.16725, 0.523782], "units_ts": [0.0, 0.0, 0.0, 1788.5, 6555.0, 2750.5]}, {"molecule": "r-FIX", "country": "MEXICO", "sales_2025": 0.124566, "units_2025": 126.5, "cagr_sales": -34.99580552738708, "cagr_units": -33.51773763331154, "yoy_units": -71.88888888888889, "price_unit": 984.7114624505929, "cagr_prices": -2.22325149815622, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.121728, 0.681468, 0.453498, 0.203942, 0.503801, 0.124566], "units_ts": [103.0, 566.0, 430.5, 200.0, 450.0, 126.5]}, {"molecule": "r-FIX", "country": "PHILIPPINES", "sales_2025": 0.101444, "units_2025": 301.75, "cagr_sales": null, "cagr_units": null, "yoy_units": 179.39814814814815, "price_unit": 336.18558409279206, "cagr_prices": null, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.0, 0.0, 0.0, 0.0, 0.035767, 0.101444], "units_ts": [0.0, 0.0, 0.0, 0.0, 108.0, 301.8]}, {"molecule": "r-FIX", "country": "RUSSIA", "sales_2025": 11.060852, "units_2025": 77167.5, "cagr_sales": 57.773921053979116, "cagr_units": 31.60443878006558, "yoy_units": 121.58650394831301, "price_unit": 143.3356270450643, "cagr_prices": 19.884954121986254, "competitors": 2, "hhi": 5000.0, "sales_ts": [3.041484, 3.604593, 2.816326, 6.058516, 2.593713, 11.060852], "units_ts": [32892.0, 41940.0, 33855.0, 68069.0, 34825.0, 77167.5]}, {"molecule": "r-FIX", "country": "SAUDI ARABIA", "sales_2025": 1.490279, "units_2025": 2667.0, "cagr_sales": -13.554414624313615, "cagr_units": -12.370960575347167, "yoy_units": -51.09114249037228, "price_unit": 558.7847769028872, "cagr_prices": -1.350527241581867, "competitors": 1, "hhi": 10000.0, "sales_ts": [3.676164, 2.170169, 2.306955, 4.417047, 3.208703, 1.490279], "units_ts": [4457.0, 3773.5, 3963.5, 7639.0, 5453.0, 2667.0]}, {"molecule": "r-FIX", "country": "THAILAND", "sales_2025": 2.727192, "units_2025": 4303.0, "cagr_sales": null, "cagr_units": null, "yoy_units": 79.06783187682065, "price_unit": 633.7885196374623, "cagr_prices": null, "competitors": 1, "hhi": 10000.0, "sales_ts": [0.0, 0.0, 0.0, 0.195858, 1.443188, 2.727192], "units_ts": [0.0, 0.0, 0.0, 314.8, 2403.0, 4303.0]}, {"molecule": "r-FIX", "country": "UAE", "sales_2025": 2.78034, "units_2025": 2405.5, "cagr_sales": 3.366516510146833, "cagr_units": 9.314526850435655, "yoy_units": -34.086861213864914, "price_unit": 1155.8262315526918, "cagr_prices": -5.441189301790517, "competitors": 3, "hhi": 6262.0, "sales_ts": [1.941373, 2.95774, 2.517435, 3.211694, 4.128605, 2.78034], "units_ts": [1153.0, 1434.5, 1841.5, 2992.5, 3649.5, 2405.5]}], "ref_detail": [{"molecule": "EPO", "country": "FRANCE", "sales_2025": 199.732599, "units_2025": 8870119.6665, "cagr_sales": 0.6907828356238266, "cagr_units": 5.413897105466825, "yoy_units": 5.55935019622571, "price_unit": 22.517463857261703, "cagr_prices": -4.48054231892927, "competitors": 5, "hhi": 2853.0, "sales_ts": [151.37828, 172.99182, 195.649977, 192.142769, 194.42454, 199.732599]}, {"molecule": "EPO", "country": "GERMANY", "sales_2025": 185.024624, "units_2025": 7955880.1615, "cagr_sales": 5.264092637701512, "cagr_units": 6.943644274807448, "yoy_units": 5.5057171487845835, "price_unit": 23.25633622479244, "cagr_prices": -1.5705015931475885, "competitors": 8, "hhi": 1968.0, "sales_ts": [133.024813, 152.400475, 158.631261, 155.03526, 172.264658, 185.024624]}, {"molecule": "EPO", "country": "ITALY", "sales_2025": 595.870101, "units_2025": 18892138.035500005, "cagr_sales": 1.9010558173286007, "cagr_units": 3.325153702677386, "yoy_units": 0.6171634854505115, "price_unit": 31.540638750378974, "cagr_prices": -1.3782683444601318, "competitors": 5, "hhi": 6959.0, "sales_ts": [536.100313, 566.954459, 563.138919, 555.457843, 590.84479, 595.870101]}, {"molecule": "EPO", "country": "SPAIN", "sales_2025": 50.869928, "units_2025": 5711881.481999999, "cagr_sales": -0.7257096390349105, "cagr_units": 2.100885400256103, "yoy_units": 7.325118339020253, "price_unit": 8.905984509711507, "cagr_prices": -2.768433425636019, "competitors": 5, "hhi": 8723.0, "sales_ts": [48.163439, 55.277857, 51.993703, 49.594663, 47.097631, 50.869928]}, {"molecule": "IFN alfa", "country": "FRANCE", "sales_2025": 16.022577, "units_2025": 78453.66666666667, "cagr_sales": 1.0165025265802763, "cagr_units": -5.141122622685401, "yoy_units": -25.91092097849046, "price_unit": 204.2298044280913, "cagr_prices": 6.491353597589877, "competitors": 2, "hhi": 6659.0, "sales_ts": [11.995984, 14.63834, 15.543735, 15.465304, 17.214773, 16.022577]}, {"molecule": "IFN alfa", "country": "GERMANY", "sales_2025": 98.109217, "units_2025": 106197.41666666666, "cagr_sales": 40.42716044875627, "cagr_units": 31.19197271892089, "yoy_units": 30.079464317612302, "price_unit": 923.8380751571955, "cagr_prices": 7.039445736227923, "competitors": 2, "hhi": 9101.0, "sales_ts": [13.761748, 26.888135, 35.428802, 45.975024, 61.380129, 98.109217]}, {"molecule": "IFN alfa", "country": "ITALY", "sales_2025": 27.638066, "units_2025": 38552.88888888889, "cagr_sales": 73.71144453787603, "cagr_units": 13.318470251626424, "yoy_units": 4.368672493568626, "price_unit": 716.8870296504657, "cagr_prices": 53.29490783995365, "competitors": 2, "hhi": 7186.0, "sales_ts": [1.843221, 2.417296, 5.27257, 9.224533, 17.892095, 27.638066]}, {"molecule": "IFN alfa", "country": "SPAIN", "sales_2025": 4.784582, "units_2025": 19757.5, "cagr_sales": -0.10783635770396094, "cagr_units": 1.0926647157592395, "yoy_units": -20.552104067394495, "price_unit": 242.16535492850815, "cagr_prices": -1.1875254024005022, "competitors": 1, "hhi": 10000.0, "sales_ts": [2.83252, 3.554359, 4.800094, 5.554506, 6.056896, 4.784582]}, {"molecule": "Long ACTING EPO", "country": "FRANCE", "sales_2025": 214.088296, "units_2025": 4849041.2875, "cagr_sales": -2.9525470894476324, "cagr_units": 1.3348085412168365, "yoy_units": 0.6811711532140885, "price_unit": 44.1506440771876, "cagr_prices": -4.2308814635206415, "competitors": 3, "hhi": 9158.0, "sales_ts": [227.05103, 236.683329, 234.228912, 210.865956, 218.221673, 214.088296]}, {"molecule": "Long ACTING EPO", "country": "GERMANY", "sales_2025": 84.946535, "units_2025": 1207107.7075000003, "cagr_sales": -3.7883316183789706, "cagr_units": -1.9866605396522186, "yoy_units": -2.509806455640873, "price_unit": 70.37195974494263, "cagr_prices": -1.8381896674948384, "competitors": 2, "hhi": 6570.0, "sales_ts": [99.308811, 98.432323, 95.381123, 85.729702, 86.305556, 84.946535]}, {"molecule": "Long ACTING EPO", "country": "ITALY", "sales_2025": 89.998191, "units_2025": 1113125.8450000002, "cagr_sales": 0.515481595362477, "cagr_units": 1.6926547063415676, "yoy_units": 7.980892113565474, "price_unit": 80.85176658529565, "cagr_prices": -1.1575792906365123, "competitors": 2, "hhi": 9482.0, "sales_ts": [98.552124, 96.909772, 88.620645, 80.837731, 82.789111, 89.998191]}, {"molecule": "Long ACTING EPO", "country": "SPAIN", "sales_2025": 91.916865, "units_2025": 1251708.0499999998, "cagr_sales": -4.69650174615902, "cagr_units": -3.619415529450898, "yoy_units": -4.800725297138819, "price_unit": 73.43315000650512, "cagr_prices": -1.117534431467615, "competitors": 2, "hhi": 9177.0, "sales_ts": [99.160586, 107.168304, 106.186346, 101.525243, 95.919053, 91.916865]}, {"molecule": "Long ACTING G-CSF", "country": "FRANCE", "sales_2025": 146.516296, "units_2025": 335132.0, "cagr_sales": -4.501277699499351, "cagr_units": 4.544758949376249, "yoy_units": 3.515355937124509, "price_unit": 437.18981177565854, "cagr_prices": -8.652788279186685, "competitors": 10, "hhi": 1401.0, "sales_ts": [146.656119, 180.30758, 168.22605, 150.87803, 151.636344, 146.516296]}, {"molecule": "Long ACTING G-CSF", "country": "GERMANY", "sales_2025": 111.718139, "units_2025": 231325.0, "cagr_sales": -3.2740540342275914, "cagr_units": 5.693055971728489, "yoy_units": 4.695158655086429, "price_unit": 482.9488338917108, "cagr_prices": -8.484105151008848, "competitors": 9, "hhi": 1539.0, "sales_ts": [133.951803, 143.150818, 123.451035, 98.052149, 110.872119, 111.718139]}, {"molecule": "Long ACTING G-CSF", "country": "ITALY", "sales_2025": 47.867825, "units_2025": 79085.0, "cagr_sales": 3.118053626553663, "cagr_units": 5.7617764575453645, "yoy_units": 1.5276975415623673, "price_unit": 605.2705949295063, "cagr_prices": -2.499695938875368, "competitors": 5, "hhi": 2520.0, "sales_ts": [45.163739, 47.362009, 43.655561, 41.753326, 45.509895, 47.867825]}, {"molecule": "Long ACTING G-CSF", "country": "SPAIN", "sales_2025": 8.946813, "units_2025": 18245.0, "cagr_sales": 13.393806635580784, "cagr_units": 14.794262806540083, "yoy_units": 21.519914746236847, "price_unit": 490.3706768977802, "cagr_prices": -1.2199705252861293, "competitors": 4, "hhi": 3594.0, "sales_ts": [6.907778, 6.643211, 6.136212, 6.427922, 7.30823, 8.946813]}, {"molecule": "r-FIX", "country": "FRANCE", "sales_2025": 91.84245, "units_2025": 65066.0, "cagr_sales": 12.056503191676725, "cagr_units": 6.296687858647276, "yoy_units": 2.2499675882091896, "price_unit": 1411.5275258967818, "cagr_prices": 5.418621641992094, "competitors": 4, "hhi": 5598.0, "sales_ts": [59.627994, 67.25659, 65.272803, 80.383936, 88.255725, 91.84245]}, {"molecule": "r-FIX", "country": "GERMANY", "sales_2025": 64.43715, "units_2025": 45182.75, "cagr_sales": 6.796179253472556, "cagr_units": 19.70797527796959, "yoy_units": 15.239334060230437, "price_unit": 1426.1449336306443, "cagr_prices": -10.786078366554118, "competitors": 5, "hhi": 4730.0, "sales_ts": [26.208725, 65.98468, 52.901645, 59.196244, 63.403907, 64.43715]}, {"molecule": "r-FIX", "country": "ITALY", "sales_2025": 104.038935, "units_2025": 53656.75, "cagr_sales": 10.673706419819506, "cagr_units": 3.6170439661713516, "yoy_units": 0.2906474147800209, "price_unit": 1938.9719839535567, "cagr_prices": 6.810329829474782, "competitors": 5, "hhi": 4157.0, "sales_ts": [70.102426, 71.891729, 76.747199, 84.029645, 94.992015, 104.038935]}, {"molecule": "r-FIX", "country": "SPAIN", "sales_2025": 36.359264, "units_2025": 28251.25, "cagr_sales": -8.760104867120733, "cagr_units": -17.631855466861047, "yoy_units": -28.207946329873067, "price_unit": 1286.9966461660988, "cagr_prices": 10.770851583491691, "competitors": 4, "hhi": 3268.0, "sales_ts": [19.013381, 38.485939, 47.869705, 38.901804, 42.742675, 36.359264]}], "bsv_l2": [{"molecule": "IFN alfa", "country": "BRAZIL", "mkt_size": 1286.0, "base_units": 4, "cagr_3yr": -72.14117762705348, "yoy": -98.75776397515527, "exp_growth": 0.0, "exp_units_y3": 4.0, "competitors": 1, "bsv_share": 50.0, "price_unit": 321.5, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 0.8, "bsv_y2_units": 1.4, "bsv_y3_units": 2.0, "bsv_ims": 450.09999999999997, "real_rate": 50.0, "bsv_realized": 225.04999999999998, "data_source": "IQVIA"}, {"molecule": "IFN alfa", "country": "MEXICO", "mkt_size": 165479.0, "base_units": 662, "cagr_3yr": -1.8899891313476358, "yoy": -54.59533607681756, "exp_growth": 0.0, "exp_units_y3": 662.0, "competitors": 1, "bsv_share": 50.0, "price_unit": 249.96827794561935, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 132.4, "bsv_y2_units": 231.7, "bsv_y3_units": 331.0, "bsv_ims": 57917.649999999994, "real_rate": 50.0, "bsv_realized": 28958.824999999997, "data_source": "IQVIA"}, {"molecule": "IFN alfa", "country": "RUSSIA", "mkt_size": 361557.0, "base_units": 6244, "cagr_3yr": -45.46976800878004, "yoy": 62.77281350924706, "exp_growth": 5.0, "exp_units_y3": 7228.274812500002, "competitors": 4, "bsv_share": 20.0, "price_unit": 57.90419332164814, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 524.5006666666668, "bsv_y2_units": 963.7699750000002, "bsv_y3_units": 1445.6549625000005, "bsv_ims": 58596.63909750001, "real_rate": 75.0, "bsv_realized": 43947.47932312501, "data_source": "IQVIA"}, {"molecule": "IFN alfa", "country": "SAUDI ARABIA", "mkt_size": 6886.0, "base_units": 14, "cagr_3yr": -80.73200653413785, "yoy": -96.3254593175853, "exp_growth": 0.0, "exp_units_y3": 14.0, "competitors": 1, "bsv_share": 50.0, "price_unit": 491.85714285714283, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 2.8000000000000003, "bsv_y2_units": 4.8999999999999995, "bsv_y3_units": 7.0, "bsv_ims": 2410.1, "real_rate": 60.0, "bsv_realized": 1446.06, "data_source": "IQVIA"}, {"molecule": "IFN alfa", "country": "UAE", "mkt_size": 244915.0, "base_units": 878, "cagr_3yr": 5.6753902024079705, "yoy": -38.25597749648383, "exp_growth": 5.6753902024079705, "exp_units_y3": 1036.1344086021502, "competitors": 1, "bsv_share": 50.0, "price_unit": 278.9464692482916, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 185.56598519542842, "bsv_y2_units": 343.1707631418702, "bsv_y3_units": 518.0672043010751, "bsv_ims": 101159.11223118276, "real_rate": 60.0, "bsv_realized": 60695.467338709655, "data_source": "IQVIA"}, {"molecule": "Long ACTING G-CSF", "country": "BRAZIL", "mkt_size": 1073611.0, "base_units": 1121, "cagr_3yr": 45.82297762343064, "yoy": 29.23100560805103, "exp_growth": 25.0, "exp_units_y3": 2190.3645833333335, "competitors": 5, "bsv_share": 16.666666666666664, "price_unit": 957.3276067055046, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 93.45555555555558, "bsv_y2_units": 204.43402777777777, "bsv_y3_units": 365.0607638888889, "bsv_ims": 244637.9231770833, "real_rate": 50.0, "bsv_realized": 122318.96158854166, "data_source": "IQVIA"}, {"molecule": "Long ACTING G-CSF", "country": "MALAYSIA", "mkt_size": 1553934.0, "base_units": 19690, "cagr_3yr": 41.36361612027009, "yoy": 19.63059724163072, "exp_growth": 19.63059724163072, "exp_units_y3": 33711.06933768098, "competitors": 2, "bsv_share": 33.33333333333333, "price_unit": 78.9199593702387, "discount": 30.0, "price_erosion": 18.752832908623862, "bsv_y1_units": 3140.7019462502785, "bsv_y2_units": 6575.170867787773, "bsv_y3_units": 11237.023112560326, "bsv_ims": 332936.0695721038, "real_rate": 88.0, "bsv_realized": 292983.74122345133, "data_source": "IQVIA"}, {"molecule": "Long ACTING G-CSF", "country": "MEXICO", "mkt_size": 1745627.0, "base_units": 1288, "cagr_3yr": 0.3912402913386126, "yoy": 98.76543209876543, "exp_growth": 5.0, "exp_units_y3": 1491.0210000000002, "competitors": 4, "bsv_share": 20.0, "price_unit": 1355.3004658385094, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 108.19200000000001, "bsv_y2_units": 198.8028, "bsv_y3_units": 298.20420000000007, "bsv_ims": 282909.4038225, "real_rate": 50.0, "bsv_realized": 141454.70191125, "data_source": "IQVIA"}, {"molecule": "Long ACTING G-CSF", "country": "PHILIPPINES", "mkt_size": 1307704.0, "base_units": 6119, "cagr_3yr": 32.876975944692674, "yoy": 87.68916155419224, "exp_growth": 25.0, "exp_units_y3": 11950.520833333334, "competitors": 3, "bsv_share": 25.0, "price_unit": 213.72368707779472, "discount": 30.0, "price_erosion": 6.895705134798202, "bsv_y1_units": 764.8333333333335, "bsv_y2_units": 1673.0729166666667, "bsv_y3_units": 2987.6302083333335, "bsv_ims": 360733.6745786331, "real_rate": 50.0, "bsv_realized": 180366.83728931655, "data_source": "IQVIA"}, {"molecule": "Long ACTING G-CSF", "country": "RUSSIA", "mkt_size": 23536015.0, "base_units": 77167, "cagr_3yr": 29.503465398533745, "yoy": 48.35480149956744, "exp_growth": 25.0, "exp_units_y3": 150716.30859375, "competitors": 2, "bsv_share": 33.33333333333333, "price_unit": 305.0020248358263, "discount": 30.0, "price_erosion": 7.219708499574862, "bsv_y1_units": 12861.125, "bsv_y2_units": 28133.7109375, "bsv_y3_units": 50238.76953125, "bsv_ims": 8566569.733765656, "real_rate": 75.0, "bsv_realized": 6424927.300324243, "data_source": "IQVIA"}, {"molecule": "Long ACTING G-CSF", "country": "SAUDI ARABIA", "mkt_size": 6716409.0, "base_units": 13665, "cagr_3yr": 16.403973241151036, "yoy": 20.046716961238587, "exp_growth": 16.403973241151036, "exp_units_y3": 21553.870549846015, "competitors": 5, "bsv_share": 16.666666666666664, "price_unit": 491.49066999300146, "discount": 30.0, "price_erosion": 10.970742137811673, "bsv_y1_units": 1060.4700370321152, "bsv_y2_units": 2160.2512017402532, "bsv_y3_units": 3592.311758307669, "bsv_ims": 872138.7786379185, "real_rate": 60.0, "bsv_realized": 523283.2671827511, "data_source": "IQVIA"}, {"molecule": "Long ACTING G-CSF", "country": "THAILAND", "mkt_size": 2981407.0, "base_units": 7807, "cagr_3yr": 9.050893771602443, "yoy": -7.280285035629452, "exp_growth": 9.050893771602443, "exp_units_y3": 10124.459966777407, "competitors": 5, "bsv_share": 16.666666666666664, "price_unit": 381.88894581785576, "discount": 30.0, "price_erosion": 5.744241479446632, "bsv_y1_units": 567.5735517832669, "bsv_y2_units": 1083.1520543040422, "bsv_y3_units": 1687.409994462901, "bsv_ims": 377728.21190500277, "real_rate": 60.0, "bsv_realized": 226636.92714300167, "data_source": "IQVIA"}, {"molecule": "Long ACTING G-CSF", "country": "UAE", "mkt_size": 1782029.0, "base_units": 2880, "cagr_3yr": 60.31411824343227, "yoy": 26.593406593406588, "exp_growth": 25.0, "exp_units_y3": 5625.0, "competitors": 2, "bsv_share": 33.33333333333333, "price_unit": 618.7600694444444, "discount": 30.0, "price_erosion": 9.479814580816248, "bsv_y1_units": 480.0, "bsv_y2_units": 1050.0, "bsv_y3_units": 1875.0, "bsv_ims": 602362.4572270942, "real_rate": 60.0, "bsv_realized": 361417.4743362565, "data_source": "IQVIA"}, {"molecule": "Long ACTING G-CSF", "country": "VIETNAM", "mkt_size": 17600947.0, "base_units": 76872, "cagr_3yr": 27.79975324754842, "yoy": 31.3669531930892, "exp_growth": 25.0, "exp_units_y3": 150140.625, "competitors": 4, "bsv_share": 20.0, "price_unit": 228.9643433239671, "discount": 30.0, "price_erosion": 3.741412938021016, "bsv_y1_units": 7687.200000000001, "bsv_y2_units": 16815.75, "bsv_y3_units": 30028.125, "bsv_ims": 4292522.275904687, "real_rate": 60.0, "bsv_realized": 2575513.3655428123, "data_source": "IQVIA"}, {"molecule": "Long ACTING EPO", "country": "BRAZIL", "mkt_size": 42732.0, "base_units": 812, "cagr_3yr": 86.62555784086241, "yoy": 4.8387096774193505, "exp_growth": 15.0, "exp_units_y3": 1235.7109374999998, "competitors": 1, "bsv_share": 50.0, "price_unit": 52.59323076923077, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 186.875, "bsv_y2_units": 376.0859374999999, "bsv_y3_units": 617.8554687499999, "bsv_ims": 22746.510674999998, "real_rate": 50.0, "bsv_realized": 11373.255337499999, "data_source": "IQVIA"}, {"molecule": "Long ACTING EPO", "country": "INDONESIA", "mkt_size": 558478.0, "base_units": 5110, "cagr_3yr": 20.441343848627767, "yoy": 5.6609626221372, "exp_growth": 15.0, "exp_units_y3": 7770.910812499998, "competitors": 2, "bsv_share": 33.33333333333333, "price_unit": 109.30188863881006, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 783.4566666666666, "bsv_y2_units": 1576.7065416666665, "bsv_y3_units": 2590.303604166666, "bsv_ims": 198187.55325833324, "real_rate": 60.0, "bsv_realized": 118912.53195499994, "data_source": "IQVIA"}, {"molecule": "Long ACTING EPO", "country": "MALAYSIA", "mkt_size": 2508180.0, "base_units": 75630, "cagr_3yr": 19.879932855567482, "yoy": 42.50586472965716, "exp_growth": 19.879932855567482, "exp_units_y3": 130296.74707852112, "competitors": 1, "bsv_share": 50.0, "price_unit": 33.16382387941293, "discount": 30.0, "price_erosion": 1.7451020674139062, "bsv_y1_units": 18133.03864373314, "bsv_y2_units": 38041.28046386743, "bsv_y3_units": 65148.37353926056, "bsv_ims": 1434593.4527308464, "real_rate": 88.0, "bsv_realized": 1262442.2384031448, "data_source": "IQVIA"}, {"molecule": "Long ACTING EPO", "country": "MEXICO", "mkt_size": 3618468.0, "base_units": 49764, "cagr_3yr": -2.9688181994453333, "yoy": -21.91128493837109, "exp_growth": 0.0, "exp_units_y3": 49764.39000000001, "competitors": 2, "bsv_share": 33.33333333333333, "price_unit": 72.71199345556128, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 6635.252000000001, "bsv_y2_units": 11611.691, "bsv_y3_units": 16588.13, "bsv_ims": 844309.1999999998, "real_rate": 50.0, "bsv_realized": 422154.5999999999, "data_source": "IQVIA"}, {"molecule": "Long ACTING EPO", "country": "RUSSIA", "mkt_size": 10896919.0, "base_units": 312775, "cagr_3yr": 6.081443152120003, "yoy": -3.813664011019735, "exp_growth": 6.081443152120003, "exp_units_y3": 373379.50124857784, "competitors": 4, "bsv_share": 20.0, "price_unit": 34.83946757531521, "discount": 30.0, "price_erosion": 7.321252899437514, "bsv_y1_units": 26543.70973799356, "bsv_y2_units": 49276.413123303406, "bsv_y3_units": 74675.90024971557, "bsv_ims": 1449741.1907290283, "real_rate": 75.0, "bsv_realized": 1087305.8930467712, "data_source": "IQVIA"}, {"molecule": "Long ACTING EPO", "country": "SAUDI ARABIA", "mkt_size": 99408222.0, "base_units": 1429616, "cagr_3yr": 22.883407031916867, "yoy": 42.98647964745865, "exp_growth": 22.883407031916867, "exp_units_y3": 2652767.156826313, "competitors": 1, "bsv_share": 50.0, "price_unit": 69.53491147273114, "discount": 30.0, "price_erosion": 7.444140412002698, "bsv_y1_units": 351352.16965468175, "bsv_y2_units": 755568.6543164088, "bsv_y3_units": 1326383.5784131566, "bsv_ims": 51189612.045081235, "real_rate": 60.0, "bsv_realized": 30713767.22704874, "data_source": "IQVIA"}, {"molecule": "Long ACTING EPO", "country": "THAILAND", "mkt_size": 5290612.0, "base_units": 64102, "cagr_3yr": 17.46279828550432, "yoy": 13.683622482232094, "exp_growth": 15.0, "exp_units_y3": 97491.88968749998, "competitors": 1, "bsv_share": 50.0, "price_unit": 82.53362973362974, "discount": 30.0, "price_erosion": 0.7766555154713362, "bsv_y1_units": 14743.575, "bsv_y2_units": 29671.444687499992, "bsv_y3_units": 48745.94484374999, "bsv_ims": 2751117.0137751405, "real_rate": 60.0, "bsv_realized": 1650670.2082650843, "data_source": "IQVIA"}, {"molecule": "Long ACTING EPO", "country": "UAE", "mkt_size": 24326770.0, "base_units": 190476, "cagr_3yr": 10.1126942289397, "yoy": 7.143218751582037, "exp_growth": 10.1126942289397, "exp_units_y3": 254303.55387489175, "competitors": 1, "bsv_share": 50.0, "price_unit": 127.71567021567022, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 41947.65109190304, "bsv_y2_units": 80831.95537033692, "bsv_y3_units": 127151.77693744587, "bsv_ims": 11367492.087475508, "real_rate": 60.0, "bsv_realized": 6820495.252485305, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "BRAZIL", "mkt_size": 25674534.0, "base_units": 864585, "cagr_3yr": 10.102501540280606, "yoy": 10.029098530947334, "exp_growth": 10.102501540280606, "exp_units_y3": 1153982.5865710147, "competitors": 5, "bsv_share": 16.666666666666664, "price_unit": 29.695789309321814, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 63461.98086280234, "bsv_y2_units": 122278.14979967914, "bsv_y3_units": 192330.4310951691, "bsv_ims": 3997982.7717012246, "real_rate": 50.0, "bsv_realized": 1998991.3858506123, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "INDONESIA", "mkt_size": 28044425.0, "base_units": 2341448, "cagr_3yr": 7.198280231321963, "yoy": 11.983084771057007, "exp_growth": 7.198280231321963, "exp_units_y3": 2884350.0256814365, "competitors": 7, "bsv_share": 12.5, "price_unit": 11.97738561219036, "discount": 30.0, "price_erosion": 0.48055146265318927, "bsv_y1_units": 125499.5967991763, "bsv_y2_units": 235433.46656543034, "bsv_y3_units": 360543.75321017957, "bsv_ims": 2979489.983406411, "real_rate": 60.0, "bsv_realized": 1787693.9900438467, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "MALAYSIA", "mkt_size": 18074176.0, "base_units": 2447941, "cagr_3yr": 5.844429877691515, "yoy": 6.049562439745482, "exp_growth": 5.844429877691515, "exp_units_y3": 2902718.9667635015, "competitors": 4, "bsv_share": 20.0, "price_unit": 7.383419431765331, "discount": 30.0, "price_erosion": 2.5983453756780572, "bsv_y1_units": 207280.74539540615, "bsv_y2_units": 383941.46561749466, "bsv_y3_units": 580543.7933527003, "bsv_ims": 2772615.011655364, "real_rate": 88.0, "bsv_realized": 2439901.2102567204, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "MEXICO", "mkt_size": 12561042.0, "base_units": 1507428, "cagr_3yr": 14.003680486385829, "yoy": 28.991907915187554, "exp_growth": 14.003680486385829, "exp_units_y3": 2233537.5772822574, "competitors": 6, "bsv_share": 14.285714285714285, "price_unit": 8.332762833539025, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 98201.35271891966, "bsv_y2_units": 195918.02367722537, "bsv_y3_units": 319076.79675460816, "bsv_ims": 1861153.891129039, "real_rate": 50.0, "bsv_realized": 930576.9455645195, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "PERU", "mkt_size": 253644.0, "base_units": 44730, "cagr_3yr": -26.745049477452365, "yoy": -67.89211111908693, "exp_growth": 0.0, "exp_units_y3": 44729.5, "competitors": 4, "bsv_share": 20.0, "price_unit": 5.670620060586414, "discount": 30.0, "price_erosion": 0.21662085939561093, "bsv_y1_units": 3578.36, "bsv_y2_units": 6262.13, "bsv_y3_units": 8945.9, "bsv_ims": 35279.892287731695, "real_rate": 80.0, "bsv_realized": 28223.913830185356, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "PHILIPPINES", "mkt_size": 47871782.0, "base_units": 2954025, "cagr_3yr": 9.653665278888868, "yoy": 30.342039231201866, "exp_growth": 9.653665278888868, "exp_units_y3": 3894786.6218765373, "competitors": 14, "bsv_share": 6.666666666666667, "price_unit": 16.205610014170965, "discount": 30.0, "price_erosion": 4.192428132990623, "bsv_y1_units": 86378.58708832611, "bsv_y2_units": 165755.25182731656, "bsv_y3_units": 259652.44145843582, "bsv_ims": 2590331.4282486835, "real_rate": 50.0, "bsv_realized": 1295165.7141243417, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "RUSSIA", "mkt_size": 41942813.0, "base_units": 6324964, "cagr_3yr": 13.448562039876366, "yoy": 17.699086557603593, "exp_growth": 13.448562039876366, "exp_units_y3": 9235385.41245854, "competitors": 7, "bsv_share": 12.5, "price_unit": 6.631312839005389, "discount": 30.0, "price_erosion": 3.0806648277051263, "bsv_y1_units": 358779.01844479446, "bsv_y2_units": 712301.8653212037, "bsv_y3_units": 1154423.1765573176, "bsv_ims": 4878584.965520435, "real_rate": 75.0, "bsv_realized": 3658938.7241403265, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "SAUDI ARABIA", "mkt_size": 42288729.0, "base_units": 1373104, "cagr_3yr": 1.3331710836846034, "yoy": 16.993141089383744, "exp_growth": 5.0, "exp_units_y3": 1589539.8103003127, "competitors": 4, "bsv_share": 20.0, "price_unit": 30.797901122952062, "discount": 30.0, "price_erosion": 3.711338156421362, "bsv_y1_units": 115340.75721000003, "bsv_y2_units": 211938.64137337502, "bsv_y3_units": 317907.96206006256, "bsv_ims": 6118514.858156505, "real_rate": 60.0, "bsv_realized": 3671108.914893903, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "THAILAND", "mkt_size": 89316506.0, "base_units": 5113744, "cagr_3yr": 3.048187553666981, "yoy": 1.6969520249863645, "exp_growth": 3.048187553666981, "exp_units_y3": 5595773.106992936, "competitors": 11, "bsv_share": 8.333333333333332, "price_unit": 17.465969670676042, "discount": 30.0, "price_erosion": 1.5183658850735138, "bsv_y1_units": 175654.03344269775, "bsv_y2_units": 316764.52119832113, "bsv_y3_units": 466314.42558274465, "bsv_ims": 5445469.516286153, "real_rate": 60.0, "bsv_realized": 3267281.709771692, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "UAE", "mkt_size": 7777026.0, "base_units": 244642, "cagr_3yr": 45.971574390333814, "yoy": 61.143443828704626, "exp_growth": 25.0, "exp_units_y3": 477816.953125, "competitors": 4, "bsv_share": 20.0, "price_unit": 31.789378352752436, "discount": 30.0, "price_erosion": 2.374333364818426, "bsv_y1_units": 24464.228000000003, "bsv_y2_units": 53515.49875, "bsv_y3_units": 95563.390625, "bsv_ims": 1978625.7785459766, "real_rate": 60.0, "bsv_realized": 1187175.467127586, "data_source": "IQVIA"}, {"molecule": "EPO", "country": "VIETNAM", "mkt_size": 51230061.0, "base_units": 5150291, "cagr_3yr": 12.127476685869043, "yoy": -0.015858422731584998, "exp_growth": 12.127476685869043, "exp_units_y3": 7260523.478258236, "competitors": 11, "bsv_share": 8.333333333333332, "price_unit": 9.947022162850978, "discount": 30.0, "price_erosion": 5.462570592861605, "bsv_y1_units": 192496.38656837778, "bsv_y2_units": 377722.34669854667, "bsv_y3_units": 605043.6231881863, "bsv_ims": 3559501.505956826, "real_rate": 60.0, "bsv_realized": 2135700.9035740956, "data_source": "IQVIA"}, {"molecule": "r-FIX", "country": "INDONESIA", "mkt_size": 1900000, "base_units": 2743, "cagr_3yr": null, "yoy": -58.179905312993164, "exp_growth": 0.0, "exp_units_y3": 2743.21143703962, "competitors": 1, "bsv_share": 50.0, "price_unit": 692.6188679245283, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 548.642287407924, "bsv_y2_units": 960.1240029638668, "bsv_y3_units": 1371.60571851981, "bsv_ims": 665000.0, "real_rate": 60.0, "bsv_realized": 399000.0, "data_source": "IMS (Units: Volza)"}, {"molecule": "r-FIX", "country": "MALAYSIA", "mkt_size": 523782.0, "base_units": 2750, "cagr_3yr": null, "yoy": -58.03966437833714, "exp_growth": 0.0, "exp_units_y3": 2750.5, "competitors": 1, "bsv_share": 50.0, "price_unit": 190.4315578985639, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 550.1, "bsv_y2_units": 962.675, "bsv_y3_units": 1375.25, "bsv_ims": 183323.7, "real_rate": 88.0, "bsv_realized": 161324.856, "data_source": "IQVIA"}, {"molecule": "r-FIX", "country": "MEXICO", "mkt_size": 124566.0, "base_units": 126, "cagr_3yr": -33.51773763331154, "yoy": -71.88888888888889, "exp_growth": 0.0, "exp_units_y3": 126.5, "competitors": 1, "bsv_share": 50.0, "price_unit": 984.7114624505929, "discount": 30.0, "price_erosion": 2.22325149815622, "bsv_y1_units": 25.3, "bsv_y2_units": 44.275, "bsv_y3_units": 63.25, "bsv_ims": 40754.384282101404, "real_rate": 50.0, "bsv_realized": 20377.192141050702, "data_source": "IQVIA"}, {"molecule": "r-FIX", "country": "PHILIPPINES", "mkt_size": 150000, "base_units": 446, "cagr_3yr": null, "yoy": 179.39814814814815, "exp_growth": 25.0, "exp_units_y3": 871.4494727386538, "competitors": 1, "bsv_share": 50.0, "price_unit": 336.18558409279206, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 111.5455325105477, "bsv_y2_units": 244.00585236682306, "bsv_y3_units": 435.7247363693269, "bsv_ims": 102539.0625, "real_rate": 50.0, "bsv_realized": 51269.53125, "data_source": "IMS (Units: Volza)"}, {"molecule": "r-FIX", "country": "RUSSIA", "mkt_size": 11060852.0, "base_units": 77168, "cagr_3yr": 31.60443878006558, "yoy": 121.58650394831301, "exp_growth": 25.0, "exp_units_y3": 150717.7734375, "competitors": 2, "bsv_share": 33.33333333333333, "price_unit": 143.3356270450643, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 12861.25, "bsv_y2_units": 28133.984375, "bsv_y3_units": 50239.2578125, "bsv_ims": 5040752.864583333, "real_rate": 75.0, "bsv_realized": 3780564.6484375, "data_source": "IQVIA"}, {"molecule": "r-FIX", "country": "SAUDI ARABIA", "mkt_size": 1490279.0, "base_units": 2667, "cagr_3yr": -12.370960575347167, "yoy": -51.09114249037228, "exp_growth": 0.0, "exp_units_y3": 2667.0, "competitors": 1, "bsv_share": 50.0, "price_unit": 558.7847769028872, "discount": 30.0, "price_erosion": 1.350527241581867, "bsv_y1_units": 533.4, "bsv_y2_units": 933.4499999999999, "bsv_y3_units": 1333.5, "bsv_ims": 500748.816420978, "real_rate": 60.0, "bsv_realized": 300449.2898525868, "data_source": "IQVIA"}, {"molecule": "r-FIX", "country": "THAILAND", "mkt_size": 2727192.0, "base_units": 4303, "cagr_3yr": null, "yoy": 79.06783187682065, "exp_growth": 25.0, "exp_units_y3": 8404.296875, "competitors": 1, "bsv_share": 50.0, "price_unit": 633.7885196374623, "discount": 30.0, "price_erosion": 0, "bsv_y1_units": 1075.75, "bsv_y2_units": 2353.203125, "bsv_y3_units": 4202.1484375, "bsv_ims": 1864291.4062499998, "real_rate": 60.0, "bsv_realized": 1118574.8437499998, "data_source": "IQVIA"}, {"molecule": "r-FIX", "country": "UAE", "mkt_size": 2780340.0, "base_units": 2406, "cagr_3yr": 9.314526850435655, "yoy": -34.086861213864914, "exp_growth": 9.314526850435655, "exp_units_y3": 3142.2374423024708, "competitors": 3, "bsv_share": 25.0, "price_unit": 1155.8262315526918, "discount": 30.0, "price_erosion": 5.441189301790517, "bsv_y1_units": 262.95609433872295, "bsv_y2_units": 503.03611811383036, "bsv_y3_units": 785.5593605756177, "bsv_ims": 537372.6988899414, "real_rate": 60.0, "bsv_realized": 322423.61933396483, "data_source": "IQVIA"}], "presence_map": {"IFN alfa": {"PHILIPPINES": false, "INDONESIA": false, "MALAYSIA": false, "THAILAND": false, "VIETNAM": false, "SAUDI ARABIA": true, "UAE": true, "BRAZIL": true, "MEXICO": true, "PERU": false, "RUSSIA": true}, "Long ACTING G-CSF": {"PHILIPPINES": true, "INDONESIA": false, "MALAYSIA": true, "THAILAND": true, "VIETNAM": true, "SAUDI ARABIA": true, "UAE": true, "BRAZIL": true, "MEXICO": true, "PERU": false, "RUSSIA": true}, "Long ACTING EPO": {"PHILIPPINES": false, "INDONESIA": true, "MALAYSIA": true, "THAILAND": true, "VIETNAM": false, "SAUDI ARABIA": true, "UAE": true, "BRAZIL": true, "MEXICO": true, "PERU": true, "RUSSIA": true}, "EPO": {"PHILIPPINES": true, "INDONESIA": true, "MALAYSIA": true, "THAILAND": true, "VIETNAM": true, "SAUDI ARABIA": true, "UAE": true, "BRAZIL": true, "MEXICO": true, "PERU": true, "RUSSIA": true}, "r-FIX": {"PHILIPPINES": true, "INDONESIA": true, "MALAYSIA": true, "THAILAND": true, "VIETNAM": false, "SAUDI ARABIA": true, "UAE": true, "BRAZIL": false, "MEXICO": true, "PERU": false, "RUSSIA": true}}, "price_erosion": [{"molecule": "EPO", "country": "BRAZIL", "price_cagr": 3.3137928173867293, "classification": "Stable"}, {"molecule": "EPO", "country": "INDONESIA", "price_cagr": -0.48055146265318927, "classification": "Stable"}, {"molecule": "EPO", "country": "MALAYSIA", "price_cagr": -2.5983453756780572, "classification": "Stable"}, {"molecule": "EPO", "country": "MEXICO", "price_cagr": 4.21888338126295, "classification": "Stable"}, {"molecule": "EPO", "country": "PERU", "price_cagr": -0.21662085939561093, "classification": "Stable"}, {"molecule": "EPO", "country": "PHILIPPINES", "price_cagr": -4.192428132990623, "classification": "Stable"}, {"molecule": "EPO", "country": "RUSSIA", "price_cagr": -3.0806648277051263, "classification": "Stable"}, {"molecule": "EPO", "country": "SAUDI ARABIA", "price_cagr": -3.711338156421362, "classification": "Stable"}, {"molecule": "EPO", "country": "THAILAND", "price_cagr": -1.5183658850735138, "classification": "Stable"}, {"molecule": "EPO", "country": "UAE", "price_cagr": -2.374333364818426, "classification": "Stable"}, {"molecule": "EPO", "country": "VIETNAM", "price_cagr": -5.462570592861605, "classification": "Eroding"}, {"molecule": "IFN alfa", "country": "BRAZIL", "price_cagr": 0.7893437958933269, "classification": "Stable"}, {"molecule": "IFN alfa", "country": "MEXICO", "price_cagr": 6.190071249533657, "classification": "Inflating"}, {"molecule": "IFN alfa", "country": "RUSSIA", "price_cagr": 1.6467890089671977, "classification": "Stable"}, {"molecule": "IFN alfa", "country": "SAUDI ARABIA", "price_cagr": 1.793262072841828, "classification": "Stable"}, {"molecule": "IFN alfa", "country": "UAE", "price_cagr": 0.0006702729792307238, "classification": "Stable"}, {"molecule": "Long ACTING EPO", "country": "BRAZIL", "price_cagr": 3.184886962128708, "classification": "Stable"}, {"molecule": "Long ACTING EPO", "country": "INDONESIA", "price_cagr": 32.7429808602838, "classification": "Inflating"}, {"molecule": "Long ACTING EPO", "country": "MALAYSIA", "price_cagr": -1.7451020674139062, "classification": "Stable"}, {"molecule": "Long ACTING EPO", "country": "MEXICO", "price_cagr": 0.6751536943933933, "classification": "Stable"}, {"molecule": "Long ACTING EPO", "country": "RUSSIA", "price_cagr": -7.321252899437514, "classification": "Eroding"}, {"molecule": "Long ACTING EPO", "country": "SAUDI ARABIA", "price_cagr": -7.444140412002698, "classification": "Eroding"}, {"molecule": "Long ACTING EPO", "country": "THAILAND", "price_cagr": -0.7766555154713362, "classification": "Stable"}, {"molecule": "Long ACTING EPO", "country": "UAE", "price_cagr": 0.08565975673147097, "classification": "Stable"}, {"molecule": "Long ACTING G-CSF", "country": "BRAZIL", "price_cagr": 3.675563290777739, "classification": "Stable"}, {"molecule": "Long ACTING G-CSF", "country": "MALAYSIA", "price_cagr": -18.752832908623862, "classification": "Eroding"}, {"molecule": "Long ACTING G-CSF", "country": "MEXICO", "price_cagr": 0.6570172178602007, "classification": "Stable"}, {"molecule": "Long ACTING G-CSF", "country": "PHILIPPINES", "price_cagr": -6.895705134798202, "classification": "Eroding"}, {"molecule": "Long ACTING G-CSF", "country": "RUSSIA", "price_cagr": -7.219708499574862, "classification": "Eroding"}, {"molecule": "Long ACTING G-CSF", "country": "SAUDI ARABIA", "price_cagr": -10.970742137811673, "classification": "Eroding"}, {"molecule": "Long ACTING G-CSF", "country": "THAILAND", "price_cagr": -5.744241479446632, "classification": "Eroding"}, {"molecule": "Long ACTING G-CSF", "country": "UAE", "price_cagr": -9.479814580816248, "classification": "Eroding"}, {"molecule": "Long ACTING G-CSF", "country": "VIETNAM", "price_cagr": -3.741412938021016, "classification": "Stable"}, {"molecule": "r-FIX", "country": "MEXICO", "price_cagr": -2.22325149815622, "classification": "Stable"}, {"molecule": "r-FIX", "country": "RUSSIA", "price_cagr": 19.884954121986254, "classification": "Inflating"}, {"molecule": "r-FIX", "country": "SAUDI ARABIA", "price_cagr": -1.350527241581867, "classification": "Stable"}, {"molecule": "r-FIX", "country": "UAE", "price_cagr": -5.441189301790517, "classification": "Eroding"}], "years": ["2020", "2021", "2022", "2023", "2024", "2025"], "focus_countries": ["PHILIPPINES", "INDONESIA", "MALAYSIA", "THAILAND", "VIETNAM", "SAUDI ARABIA", "UAE", "BRAZIL", "MEXICO", "PERU", "RUSSIA"], "ref_countries": ["UNITED STATES", "GERMANY", "FRANCE", "UNITED KINGDOM", "ITALY", "SPAIN"], "bsv_mols": ["IFN alfa", "Long ACTING G-CSF", "Long ACTING EPO", "EPO", "r-FIX"], "mas_results": [{"molecule": "IFN alfa", "global_category": "C", "local_categories": "A\u00d77, B\u00d73, C\u00d71", "p1": 3.4, "p2": 10.0, "p3": 23.25, "p4": 17.02, "mas_score": 56.15, "priority": "MEDIUM", "recommendation": "Monitor", "weights": {"p1": 0.15, "p2": 0.4, "p3": 0.3, "p4": 0.15}, "focus_avg_comp": 1.6, "focus_hhi": 5048.0, "top_brand_share": 59.3}, {"molecule": "Long ACTING G-CSF", "global_category": "C", "local_categories": "A\u00d78, C\u00d73", "p1": 20.58, "p2": 15.71, "p3": 15.0, "p4": 3.95, "mas_score": 57.85, "priority": "MEDIUM", "recommendation": "Monitor", "weights": {"p1": 0.15, "p2": 0.4, "p3": 0.3, "p4": 0.15}, "focus_avg_comp": 3.6, "focus_hhi": 2270.0, "top_brand_share": 38.6}, {"molecule": "Long ACTING EPO", "global_category": "C", "local_categories": "A\u00d79, B\u00d71, C\u00d71", "p1": 17.49, "p2": 16.82, "p3": 20.25, "p4": 8.13, "mas_score": 66.58, "priority": "HIGH", "recommendation": "Proceed", "weights": {"p1": 0.15, "p2": 0.4, "p3": 0.3, "p4": 0.15}, "focus_avg_comp": 1.6, "focus_hhi": 7499.0, "top_brand_share": 86.1}, {"molecule": "EPO", "global_category": "C", "local_categories": "A\u00d72, B\u00d71, C\u00d78", "p1": 13.44, "p2": 23.64, "p3": 10.0, "p4": 7.1, "mas_score": 62.14, "priority": "HIGH", "recommendation": "Proceed", "weights": {"p1": 0.15, "p2": 0.4, "p3": 0.3, "p4": 0.15}, "focus_avg_comp": 7.0, "focus_hhi": 1086.0, "top_brand_share": 27.3}, {"molecule": "r-FIX", "global_category": "C", "local_categories": "A\u00d78, B\u00d73", "p1": 20.91, "p2": 13.21, "p3": 22.0, "p4": 14.66, "mas_score": 68.87, "priority": "HIGH", "recommendation": "Proceed", "weights": {"p1": 0.15, "p2": 0.4, "p3": 0.3, "p4": 0.15}, "focus_avg_comp": 1.4, "focus_hhi": 2620.0, "top_brand_share": 29.1}]};

const fmt = (v, d=2) => v == null || v === 'N/A' ? 'N/A' : Number(v).toFixed(d);
const fmtM = v => v == null ? 'N/A' : '$' + Number(v).toFixed(2) + 'M';
const fmtK = v => v == null ? 'N/A' : '$' + (v/1000).toFixed(1) + 'K';
const fmtP = v => v == null || v === 'N/A' ? 'N/A' : Number(v).toFixed(1) + '%';
const fmtN = v => v == null ? 'N/A' : Number(v).toLocaleString('en-US', {maximumFractionDigits:0});
const fmtD = (v,d=2) => v == null ? 'N/A' : '$' + Number(v).toFixed(d);

function switchTab(id) {
  document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.tab-btn').forEach(b => {
    if (b.textContent.includes(id.replace('tab','')+'.')) b.classList.add('active');
  });
  if (id === 'tab1' && !window._tab1Built) buildTab1();
  if (id === 'tab3' && !window._tab3Built) buildTab3();
  if (id === 'tab4' && !window._tab4Built) buildTab4();
  if (id === 'tab5' && !window._tab5Built) buildTab5();
  if (id === 'tab6' && !window._tab6Built) buildTab6();
}

// ====== TAB 1: Executive Summary ======
function buildTab1() {
  window._tab1Built = true;
  const el = document.getElementById('tab1');
  
  // Molecule Summary Table
  let html = '<div class="card"><div class="card-title"><span class="icon">ðŸ“‹</span>Molecule Summary</div>';
  html += '<div class="table-scroll"><table class="data-table"><thead><tr>';
  ['Molecule','Global Competitors','Sales 2025 ($Mn)','Units 2025 (Mn)','3yr CAGR (Sales)','3yr CAGR (Units)','YoY (Units)','Top Formulation'].forEach(h => html += '<th>'+h+'</th>');
  html += '</tr></thead><tbody>';
  D.mol_summary.forEach(m => {
    html += '<tr><td>'+m.molecule+'</td><td>'+m.global_competitors+'</td><td>'+fmt(m.sales_2025)+'</td><td>'+fmt(m.units_2025)+'</td><td>'+fmtP(m.cagr_sales)+'</td><td>'+fmtP(m.cagr_units)+'</td><td>'+fmtP(m.yoy_units)+'</td><td>'+m.top_formulation+'</td></tr>';
  });
  html += '</tbody></table></div></div>';

  // MAS Scoring Section
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸŽ¯</span>MAS Scoring (v2.1) â€” L1 Molecule Level</div>';
  html += '<div class="table-scroll"><table class="data-table"><thead><tr>';
  ['Molecule','Global Cat','Local Categories','P1: Growth','P2: Size','P3: Competition','P4: Pricing','MAS Score','Priority','Recommendation'].forEach(h => html += '<th>'+h+'</th>');
  html += '</tr></thead><tbody>';
  
  if (D.mas_results) {
    D.mas_results.forEach(m => {
      const priBadge = m.priority === 'HIGH' ? 'badge-high' : m.priority === 'MEDIUM' ? 'badge-medium' : 'badge-low';
      const recBadge = m.recommendation === 'Proceed' ? 'badge-high' : m.recommendation === 'Monitor' ? 'badge-medium' : 'badge-low';
      const scoreColor = m.mas_score >= 65 ? '#16a34a' : m.mas_score >= 55 ? '#eab308' : '#dc2626';
      html += '<tr><td>'+m.molecule+'</td><td><span class="badge badge-low" style="background:#e2e8f0;color:#1e293b">'+m.global_category+'</span></td><td style="font-family:DM Sans;font-size:11px">'+m.local_categories+'</td><td>'+m.p1.toFixed(2)+'</td><td>'+m.p2.toFixed(2)+'</td><td>'+m.p3.toFixed(2)+'</td><td>'+m.p4.toFixed(2)+'</td><td><strong style="color:'+scoreColor+'">'+m.mas_score.toFixed(2)+'</strong></td><td><span class="badge '+priBadge+'">'+m.priority+'</span></td><td><span class="badge '+recBadge+'">'+m.recommendation+'</span></td></tr>';
    });
  }
  html += '</tbody></table></div>';
  
  // MAS Pillar Weight Reference
  html += '<div style="margin-top:12px;display:flex;gap:16px;flex-wrap:wrap">';
  html += '<div style="font-size:11px;color:var(--text-secondary)"><strong>Category C Weights:</strong> P1 Growth 15% Â· P2 Size 40% Â· P3 Competition 30% Â· P4 Pricing 15%</div>';
  html += '<div style="font-size:11px;color:var(--text-secondary)"><strong>Priority Thresholds (Cat C):</strong> HIGH â‰¥60 Â· MEDIUM â‰¥50 Â· LOW <50</div>';
  html += '</div></div>';
  
    // BSV L1 Summary
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸ’°</span>BSV Potential â€” Molecule Aggregate (L1)</div>';
  html += '<div class="table-scroll"><table class="data-table"><thead><tr>';
  ['Molecule','Countries','Total Market ($Mn)','Avg Competitors','Avg BSV Share','BSV Y3 Realized ($Mn)'].forEach(h => html += '<th>'+h+'</th>');
  html += '</tr></thead><tbody>';
  
  let grandTotal = 0;
  D.bsv_mols.forEach(mol => {
    const rows = D.bsv_l2.filter(r => r.molecule === mol);
    if (!rows.length) return;
    const mkt = rows.reduce((s,r) => s + r.mkt_size, 0) / 1e6;
    const avgComp = rows.reduce((s,r) => s + r.competitors, 0) / rows.length;
    const avgShare = rows.reduce((s,r) => s + r.bsv_share, 0) / rows.length;
    const rlzd = rows.reduce((s,r) => s + r.bsv_realized, 0) / 1e6;
    grandTotal += rlzd;
    html += '<tr><td>'+mol+'</td><td>'+rows.length+'</td><td>'+fmt(mkt)+'</td><td>'+fmt(avgComp,1)+'</td><td>'+fmtP(avgShare)+'</td><td><strong>'+fmt(rlzd)+'</strong></td></tr>';
  });
  html += '<tr class="total-row"><td>GRAND TOTAL</td><td>'+D.bsv_l2.length+'</td><td></td><td></td><td></td><td><strong>'+fmt(grandTotal)+'</strong></td></tr>';
  html += '</tbody></table></div></div>';

  // Charts
  html += '<div class="chart-grid">';
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸŽ¯</span>MAS Score Breakdown</div><div class="chart-container"><canvas id="chart-mas"></canvas></div></div>';
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸ“ˆ</span>Sales Trend by Molecule</div><div class="chart-container"><canvas id="chart-sales-trend"></canvas></div></div>';
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸ“Š</span>BSV Y3 Potential by Molecule</div><div class="chart-container"><canvas id="chart-bsv-bar"></canvas></div></div>';
  html += '</div>';

  el.innerHTML = html;

  // KPIs
  document.getElementById('kpi-total-bsv').textContent = '$' + grandTotal.toFixed(1) + 'M';
  document.getElementById('kpi-total-market').textContent = '$' + (D.bsv_l2.reduce((s,r) => s+r.mkt_size,0)/1e6).toFixed(0) + 'M';
  document.getElementById('kpi-pairs').textContent = D.bsv_l2.length;

  // Sales Trend Chart
  const colors = ['#1a365d','#f97316','#16a34a','#dc2626','#8b5cf6'];
  new Chart(document.getElementById('chart-sales-trend'), {
    type: 'line',
    data: {
      labels: D.years.map(y => 'MAT Q2 ' + y),
      datasets: D.mol_summary.map((m, i) => ({
        label: m.molecule,
        data: m.sales_ts,
        borderColor: colors[i],
        backgroundColor: colors[i] + '20',
        tension: 0.3,
        fill: false,
        pointRadius: 3
      }))
    },
    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { font: { size: 10 } } } }, scales: { y: { title: { display: true, text: 'Sales ($Mn)' } } } }
  });

  // BSV Bar Chart
  const bsvData = D.bsv_mols.map(mol => {
    return D.bsv_l2.filter(r => r.molecule === mol).reduce((s,r) => s + r.bsv_realized, 0) / 1e6;
  });
  new Chart(document.getElementById('chart-bsv-bar'), {
    type: 'bar',
    data: {
      labels: D.bsv_mols,
      datasets: [{ label: 'BSV Y3 Realized ($Mn)', data: bsvData, backgroundColor: colors }]
    },
    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { title: { display: true, text: 'BSV Y3 Realized ($Mn)' } } } }
  });

  // MAS Score Stacked Bar
  if (D.mas_results && D.mas_results.length > 0) {
    const masLabels = D.mas_results.map(m => m.molecule);
    new Chart(document.getElementById('chart-mas'), {
      type: 'bar',
      data: {
        labels: masLabels,
        datasets: [
          {label:'P1: Growth',data:D.mas_results.map(m=>(m.p1*m.weights.p1*4)),backgroundColor:'#3b82f6',stack:'mas'},
          {label:'P2: Size',data:D.mas_results.map(m=>(m.p2*m.weights.p2*4)),backgroundColor:'#f97316',stack:'mas'},
          {label:'P3: Competition',data:D.mas_results.map(m=>(m.p3*m.weights.p3*4)),backgroundColor:'#16a34a',stack:'mas'},
          {label:'P4: Pricing',data:D.mas_results.map(m=>(m.p4*m.weights.p4*4)),backgroundColor:'#8b5cf6',stack:'mas'}
        ]
      },
      options: {
        responsive:true, maintainAspectRatio:false,
        plugins:{legend:{position:'bottom',labels:{font:{size:10}}}},
        scales:{
          y:{max:100,title:{display:true,text:'MAS Score (0-100)'},stacked:true},
          x:{stacked:true}
        }
      }
    });
  }
}

// ====== TAB 2: Clinical Overview ======
function buildTab2() {}
document.getElementById('tab2').innerHTML = '<div class="card"><div class="card-title"><span class="icon">ðŸ§¬</span>Clinical Overview</div><p style="color:var(--text-secondary)">Clinical data (MOA, indications, dosing) sourced from FDA/EMA labels â€” not in IQVIA data.</p><div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:16px">' +
  D.bsv_mols.map(mol => {
    const info = {
      'IFN alfa': {area:'Oncology / Hepatology',moa:'Immunomodulator â€” binds IFN receptors, activates JAK-STAT',ind:'Hepatitis B/C, Polycythemia Vera, Melanoma'},
      'Long ACTING G-CSF': {area:'Oncology Supportive Care',moa:'Stimulates neutrophil production via G-CSF receptor',ind:'Chemotherapy-induced neutropenia prevention'},
      'Long ACTING EPO': {area:'Nephrology / Oncology',moa:'Stimulates erythropoiesis via EPO receptor',ind:'Anemia of CKD, chemotherapy-induced anemia'},
      'EPO': {area:'Nephrology / Oncology',moa:'Stimulates red blood cell production',ind:'Anemia of CKD, chemotherapy-induced anemia, surgery'},
      'r-FIX': {area:'Hematology',moa:'Replaces deficient Factor IX in coagulation cascade',ind:'Hemophilia B treatment and prophylaxis'}
    }[mol];
    const rows = D.bsv_l2.filter(r => r.molecule === mol);
    const totalMkt = rows.reduce((s,r) => s+r.mkt_size, 0)/1e6;
    return '<div class="card" style="margin:0"><div class="card-title">'+mol+'</div><table style="font-size:12px;width:100%"><tr><td style="font-weight:600;width:40%">Therapeutic Area</td><td>'+info.area+'</td></tr><tr><td style="font-weight:600">MOA</td><td>'+info.moa+'</td></tr><tr><td style="font-weight:600">Indications</td><td>'+info.ind+'</td></tr><tr><td style="font-weight:600">Focus Market ($Mn)</td><td>'+fmt(totalMkt)+'</td></tr><tr><td style="font-weight:600">Focus Countries</td><td>'+rows.length+'</td></tr></table></div>';
  }).join('') + '</div></div>';

// ====== TAB 3: US & EU5 Analysis ======
function buildTab3() {
  window._tab3Built = true;
  const el = document.getElementById('tab3');
  const regions = [{id:'US',name:'ðŸ‡ºðŸ‡¸ US',countries:['UNITED STATES']},{id:'EU5',name:'ðŸ‡ªðŸ‡º EU5 Combined',countries:['GERMANY','FRANCE','UNITED KINGDOM','ITALY','SPAIN']},{id:'DE',name:'ðŸ‡©ðŸ‡ª Germany',countries:['GERMANY']},{id:'FR',name:'ðŸ‡«ðŸ‡· France',countries:['FRANCE']},{id:'UK',name:'ðŸ‡¬ðŸ‡§ UK',countries:['UNITED KINGDOM']},{id:'IT',name:'ðŸ‡®ðŸ‡¹ Italy',countries:['ITALY']},{id:'ES',name:'ðŸ‡ªðŸ‡¸ Spain',countries:['SPAIN']}];
  
  let html = '<div class="selector-bar"><span class="selector-label">Region:</span><div class="pill-group" id="ref-region-pills">';
  regions.forEach((r,i) => html += '<span class="pill'+(i===0?' active':'')+'" onclick="filterRef(\''+r.id+'\')">'+r.name+'</span>');
  html += '</div></div>';
  html += '<div class="card" id="ref-table-card"><div class="card-title"><span class="icon">ðŸŒ</span>Reference Market Performance</div><div class="table-scroll" id="ref-table-container"></div></div>';
  el.innerHTML = html;
  
  window.filterRef = function(regionId) {
    document.querySelectorAll('#ref-region-pills .pill').forEach(p => p.classList.remove('active'));
    event.target.classList.add('active');
    const region = regions.find(r => r.id === regionId);
    const rows = D.ref_detail.filter(r => region.countries.includes(r.country));
    
    // Aggregate if multiple countries
    const agg = {};
    rows.forEach(r => {
      if (!agg[r.molecule]) agg[r.molecule] = {molecule:r.molecule, sales:0, units:0, competitors: new Set(), entries: []};
      agg[r.molecule].sales += r.sales_2025;
      agg[r.molecule].units += r.units_2025;
      agg[r.molecule].entries.push(r);
    });
    
    let tbl = '<table class="data-table"><thead><tr>';
    ['Molecule','Sales 2025 ($Mn)','Units 2025','Price/Unit ($)','3yr CAGR (Sales)','3yr CAGR (Units)','YoY (Units)','3yr CAGR (Prices)','Competitors','HHI','Concentration'].forEach(h => tbl += '<th>'+h+'</th>');
    tbl += '</tr></thead><tbody>';
    
    Object.values(agg).forEach(a => {
      const price = a.units > 0 ? a.sales*1e6 / a.units : null;
      // Weighted CAGR
      const wCagrS = a.entries.reduce((s,e) => s + (e.cagr_sales||0) * e.sales_2025, 0) / (a.sales || 1);
      const wCagrU = a.entries.reduce((s,e) => s + (e.cagr_units||0) * e.units_2025, 0) / (a.units || 1);
      const wYoy = a.entries.reduce((s,e) => s + (e.yoy_units||0) * e.units_2025, 0) / (a.units || 1);
      const wPcagr = a.entries.reduce((s,e) => s + (e.cagr_prices||0) * e.sales_2025, 0) / (a.sales || 1);
      const totalComp = new Set(a.entries.flatMap(e => Array(e.competitors).fill(0).map((_,i) => e.molecule+e.country+i))).size;
      const avgHHI = a.entries.reduce((s,e) => s + (e.hhi||0), 0) / a.entries.length;
      const conc = avgHHI < 1500 ? '<span class="badge badge-high">Competitive</span>' : avgHHI < 2500 ? '<span class="badge badge-medium">Moderate</span>' : '<span class="badge badge-low">Concentrated</span>';
      
      tbl += '<tr><td>'+a.molecule+'</td><td>'+fmt(a.sales)+'</td><td>'+fmtN(a.units)+'</td><td>'+fmtD(price)+'</td><td>'+fmtP(wCagrS)+'</td><td>'+fmtP(wCagrU)+'</td><td>'+fmtP(wYoy)+'</td><td>'+fmtP(wPcagr)+'</td><td>'+a.entries.reduce((s,e)=>s+e.competitors,0)+'</td><td>'+fmtN(avgHHI)+'</td><td>'+conc+'</td></tr>';
    });
    tbl += '</tbody></table>';
    document.getElementById('ref-table-container').innerHTML = tbl;
  };
  filterRef('US');
}

// ====== TAB 4: Focus Country Deep Dive ======
function buildTab4() {
  window._tab4Built = true;
  const el = document.getElementById('tab4');
  
  const countries = ['ALL',...D.focus_countries];
  let html = '<div class="selector-bar"><span class="selector-label">Country:</span><div class="pill-group" id="focus-country-pills">';
  countries.forEach((c,i) => html += '<span class="pill'+(i===0?' active':'')+'" onclick="filterFocus(\''+c+'\')">'+( c==='ALL'?'All Focus Countries':c)+'</span>');
  html += '</div></div>';
  
  html += '<div class="card" style="padding:8px 12px;margin-bottom:10px;font-size:11px"><strong>HHI Legend:</strong> <span class="badge badge-high">< 1,500 Competitive</span> <span class="badge badge-medium">1,500-2,500 Moderate</span> <span class="badge badge-low">> 2,500 Concentrated</span></div>';
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸŽ¯</span>Focus Market Performance</div><div class="table-scroll" id="focus-table-container"></div></div>';
  html += '<div class="chart-grid"><div class="card"><div class="card-title"><span class="icon">ðŸ“Š</span>Market Size by Country</div><div class="chart-container"><canvas id="chart-focus-mkt"></canvas></div></div>';
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸ“ˆ</span>Price Trend</div><div class="chart-container"><canvas id="chart-focus-price"></canvas></div></div></div>';
  el.innerHTML = html;
  
  window._focusCharts = {};
  
  window.filterFocus = function(country) {
    document.querySelectorAll('#focus-country-pills .pill').forEach(p => p.classList.remove('active'));
    event.target.classList.add('active');
    
    let rows = D.focus_detail;
    if (country !== 'ALL') rows = rows.filter(r => r.country === country);
    
    // Aggregate by molecule
    const agg = {};
    rows.forEach(r => {
      if (!agg[r.molecule]) agg[r.molecule] = {molecule:r.molecule,sales:0,units:0,entries:[]};
      agg[r.molecule].sales += r.sales_2025;
      agg[r.molecule].units += r.units_2025;
      agg[r.molecule].entries.push(r);
    });
    
    let tbl = '<table class="data-table"><thead><tr>';
    (country==='ALL' ? ['Molecule'] : ['Molecule','Country']).concat(['Sales ($Mn)','Units','Price/Unit ($)','3yr CAGR (Sales)','3yr CAGR (Units)','YoY (Units)','3yr CAGR (Prices)','Competitors','HHI','Concentration']).forEach(h => tbl += '<th>'+h+'</th>');
    tbl += '</tr></thead><tbody>';
    
    if (country === 'ALL') {
      Object.values(agg).forEach(a => {
        const price = a.units > 0 ? a.sales*1e6/a.units : null;
        const wCagrS = a.entries.reduce((s,e)=>s+(e.cagr_sales||0)*e.sales_2025,0)/(a.sales||1);
        const wCagrU = a.entries.reduce((s,e)=>s+(e.cagr_units||0)*e.units_2025,0)/(a.units||1);
        const wYoy = a.entries.reduce((s,e)=>s+(e.yoy_units||0)*e.units_2025,0)/(a.units||1);
        const wPcagr = a.entries.reduce((s,e)=>s+(e.cagr_prices||0)*e.sales_2025,0)/(a.sales||1);
        const avgHHI = a.entries.reduce((s,e)=>s+(e.hhi||0),0)/a.entries.length;
        const conc = avgHHI<1500?'<span class="badge badge-high">Competitive</span>':avgHHI<2500?'<span class="badge badge-medium">Moderate</span>':'<span class="badge badge-low">Concentrated</span>';
        tbl += '<tr><td>'+a.molecule+'</td><td>'+fmt(a.sales)+'</td><td>'+fmtN(a.units)+'</td><td>'+fmtD(price)+'</td><td>'+fmtP(wCagrS)+'</td><td>'+fmtP(wCagrU)+'</td><td>'+fmtP(wYoy)+'</td><td>'+fmtP(wPcagr)+'</td><td>'+a.entries.reduce((s,e)=>s+e.competitors,0)+'</td><td>'+fmtN(avgHHI)+'</td><td>'+conc+'</td></tr>';
      });
    } else {
      rows.forEach(r => {
        const conc = r.hhi<1500?'<span class="badge badge-high">Competitive</span>':r.hhi<2500?'<span class="badge badge-medium">Moderate</span>':'<span class="badge badge-low">Concentrated</span>';
        tbl += '<tr><td>'+r.molecule+'</td><td>'+r.country+'</td><td>'+fmt(r.sales_2025)+'</td><td>'+fmtN(r.units_2025)+'</td><td>'+fmtD(r.price_unit)+'</td><td>'+fmtP(r.cagr_sales)+'</td><td>'+fmtP(r.cagr_units)+'</td><td>'+fmtP(r.yoy_units)+'</td><td>'+fmtP(r.cagr_prices)+'</td><td>'+r.competitors+'</td><td>'+fmtN(r.hhi)+'</td><td>'+conc+'</td></tr>';
      });
    }
    tbl += '</tbody></table>';
    document.getElementById('focus-table-container').innerHTML = tbl;
    
    // Market size chart
    if (window._focusCharts.mkt) window._focusCharts.mkt.destroy();
    const colors = ['#1a365d','#f97316','#16a34a','#dc2626','#8b5cf6'];
    const mktData = country === 'ALL' ? 
      D.bsv_mols.map(mol => ({label: mol, value: (agg[mol]||{sales:0}).sales})) :
      rows.map(r => ({label: r.molecule, value: r.sales_2025}));
    
    window._focusCharts.mkt = new Chart(document.getElementById('chart-focus-mkt'), {
      type: 'bar',
      data: { labels: mktData.map(d=>d.label), datasets: [{label:'Sales ($Mn)',data:mktData.map(d=>d.value),backgroundColor:colors}] },
      options: {responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{y:{title:{display:true,text:'Sales ($Mn)'}}}}
    });
  };
  filterFocus('ALL');
}

// ====== TAB 5: Competitor Intelligence ======
function buildTab5() {
  window._tab5Built = true;
  const el = document.getElementById('tab5');
  
  // Presence Map
  const abbr = {'PHILIPPINES':'PH','INDONESIA':'ID','MALAYSIA':'MY','THAILAND':'TH','VIETNAM':'VN','SAUDI ARABIA':'SA','UAE':'AE','BRAZIL':'BR','MEXICO':'MX','PERU':'PE','RUSSIA':'RU'};
  let html = '<div class="card"><div class="card-title"><span class="icon">ðŸ—ºï¸</span>Molecule Presence Map</div>';
  html += '<div class="presence-grid">';
  html += '<div class="cell header">Molecule</div>';
  D.focus_countries.forEach(c => html += '<div class="cell header">'+(abbr[c]||c)+'</div>');
  html += '<div class="cell header">Count</div>';
  
  D.bsv_mols.forEach(mol => {
    html += '<div class="cell mol">'+mol+'</div>';
    let count = 0;
    D.focus_countries.forEach(c => {
      const present = D.presence_map[mol] && D.presence_map[mol][c];
      if (present) count++;
      html += '<div class="cell">'+(present?'<span class="check">âœ“</span>':'<span class="dash">â€”</span>')+'</div>';
    });
    html += '<div class="cell"><strong>'+count+'</strong></div>';
  });
  html += '</div></div>';

  // Price Erosion Analysis
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸ“‰</span>Price Erosion Analysis</div><div class="table-scroll"><table class="data-table"><thead><tr><th>Molecule</th><th>Country</th><th>3yr Price CAGR</th><th>Classification</th></tr></thead><tbody>';
  D.price_erosion.sort((a,b) => a.price_cagr - b.price_cagr).forEach(pe => {
    const cls = pe.classification === 'Eroding' ? 'badge-eroding' : pe.classification === 'Inflating' ? 'badge-inflating' : 'badge-stable';
    html += '<tr><td>'+pe.molecule+'</td><td>'+pe.country+'</td><td>'+fmtP(pe.price_cagr)+'</td><td><span class="badge '+cls+'">'+pe.classification+'</span></td></tr>';
  });
  html += '</tbody></table></div></div>';
  
  el.innerHTML = html;
}

// ====== TAB 6: BSV Business Case ======
function buildTab6() {
  window._tab6Built = true;
  const el = document.getElementById('tab6');
  
  const countries = ['ALL',...D.focus_countries];
  const mols = ['ALL',...D.bsv_mols];
  
  let html = '<div class="selector-bar">';
  html += '<span class="selector-label">Molecule:</span><div class="pill-group" id="bsv-mol-pills">';
  mols.forEach((m,i) => html += '<span class="pill'+(i===0?' active':'')+'" onclick="filterBSV()">'+m+'</span>');
  html += '</div>';
  html += '<span class="selector-label" style="margin-left:16px">Country:</span><div class="pill-group" id="bsv-country-pills">';
  countries.forEach((c,i) => html += '<span class="pill'+(i===0?' active':'')+'" onclick="filterBSV()">'+( c==='ALL'?'All':c)+'</span>');
  html += '</div></div>';
  
  // L1 Summary
  html += '<div class="card" id="bsv-l1-card"><div class="card-title"><span class="icon">ðŸ’°</span>BSV Summary (L1)</div><div id="bsv-l1-table"></div></div>';
  
  // L2 Breakdown
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸ“Š</span>Country Breakdown (L2)</div><div class="table-scroll" id="bsv-l2-table"></div></div>';
  
  // Realization Rates Reference
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸ“‹</span>BSV Realization Rates</div><div class="table-scroll"><table class="data-table"><thead><tr><th>Country</th><th>Discount</th><th>BSV Realization</th></tr></thead><tbody>';
  [['ALGERIA',30,60],['BRAZIL',30,50],['INDONESIA',30,60],['MALAYSIA',30,88],['MEXICO',30,50],['PERU',30,80],['PHILIPPINES',30,50],['RUSSIA',30,75],['SAUDI ARABIA',30,60],['THAILAND',30,60],['UAE',30,60],['VIETNAM',30,60]].forEach(([c,d,r]) => {
    html += '<tr><td>'+c+'</td><td>'+d+'%</td><td>'+r+'%</td></tr>';
  });
  html += '</tbody></table></div></div>';
  
  // Charts
  html += '<div class="chart-grid">';
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸ“Š</span>BSV Potential by Molecule</div><div class="chart-container"><canvas id="chart-bsv-mol"></canvas></div></div>';
  html += '<div class="card"><div class="card-title"><span class="icon">ðŸ“ˆ</span>Y1/Y2/Y3 Projection</div><div class="chart-container"><canvas id="chart-bsv-trend"></canvas></div></div>';
  html += '</div>';
  
  el.innerHTML = html;
  window._bsvCharts = {};
  
  window.filterBSV = function() {
    const selMol = document.querySelector('#bsv-mol-pills .pill.active')?.textContent || 'ALL';
    const selCountry = document.querySelector('#bsv-country-pills .pill.active')?.textContent || 'All';
    
    // Handle pill selection
    if (event && event.target.classList.contains('pill')) {
      const parent = event.target.parentElement;
      parent.querySelectorAll('.pill').forEach(p => p.classList.remove('active'));
      event.target.classList.add('active');
    }
    
    const mol = document.querySelector('#bsv-mol-pills .pill.active')?.textContent || 'ALL';
    const country = document.querySelector('#bsv-country-pills .pill.active')?.textContent || 'All';
    
    let rows = D.bsv_l2;
    if (mol !== 'ALL') rows = rows.filter(r => r.molecule === mol);
    if (country !== 'All') rows = rows.filter(r => r.country === country);
    
    // L1 Table
    const l1Agg = {};
    rows.forEach(r => {
      if (!l1Agg[r.molecule]) l1Agg[r.molecule] = {molecule:r.molecule,countries:0,mkt:0,avgComp:0,avgShare:0,y1:0,y2:0,y3:0,ims:0,rlzd:0,entries:[]};
      l1Agg[r.molecule].countries++;
      l1Agg[r.molecule].mkt += r.mkt_size/1e6;
      l1Agg[r.molecule].ims += r.bsv_ims/1e6;
      l1Agg[r.molecule].rlzd += r.bsv_realized/1e6;
      l1Agg[r.molecule].entries.push(r);
    });
    
    let l1 = '<table class="data-table"><thead><tr>';
    ['Molecule','Countries','Total Market ($Mn)','Avg Competitors','Avg BSV Share','BSV Y1 ($Mn)','BSV Y2 ($Mn)','BSV Y3 Realized ($Mn)'].forEach(h => l1 += '<th>'+h+'</th>');
    l1 += '</tr></thead><tbody>';
    let gt = 0;
    Object.values(l1Agg).forEach(a => {
      const avgC = a.entries.reduce((s,e)=>s+e.competitors,0)/a.entries.length;
      const avgS = a.entries.reduce((s,e)=>s+e.bsv_share,0)/a.entries.length;
      // Y1/Y2 approximate from units
      const y1 = a.entries.reduce((s,e)=>s+e.bsv_y1_units*e.price_unit*(1-0.30),0)/1e6;
      const y2 = a.entries.reduce((s,e)=>s+e.bsv_y2_units*e.price_unit*(1-0.30),0)/1e6;
      gt += a.rlzd;
      l1 += '<tr><td>'+a.molecule+'</td><td>'+a.countries+'</td><td>'+fmt(a.mkt)+'</td><td>'+fmt(avgC,1)+'</td><td>'+fmtP(avgS)+'</td><td>'+fmt(y1)+'</td><td>'+fmt(y2)+'</td><td><strong>'+fmt(a.rlzd)+'</strong></td></tr>';
    });
    l1 += '<tr class="total-row"><td>TOTAL</td><td>'+rows.length+'</td><td></td><td></td><td></td><td></td><td></td><td><strong>'+fmt(gt)+'</strong></td></tr>';
    l1 += '</tbody></table>';
    document.getElementById('bsv-l1-table').innerHTML = l1;
    
    // L2 Table
    let l2t = '<table class="data-table"><thead><tr>';
    ['Molecule','Country','Mkt Size ($Mn)','Base Units','Exp Growth','Exp Units Y3','n','BSV Share','Price/Unit','Discount','BSV Y1 U','BSV Y2 U','BSV Y3 U','IMS ($K)','Real Rate','Realized ($K)','Source'].forEach(h => l2t += '<th>'+h+'</th>');
    l2t += '</tr></thead><tbody>';
    
    rows.forEach(r => {
      const volzaTag = r.data_source.includes('Volza') ? ' <span class="badge badge-volza">Volza</span>' : '';
      l2t += '<tr><td>'+r.molecule+'</td><td>'+r.country+'</td><td>'+fmt(r.mkt_size/1e6)+'</td><td>'+fmtN(r.base_units)+'</td><td>'+fmtP(r.exp_growth)+'</td><td>'+fmtN(r.exp_units_y3)+'</td><td>'+r.competitors+'</td><td>'+fmtP(r.bsv_share)+'</td><td>'+fmtD(r.price_unit)+'</td><td>'+fmtP(r.discount)+'</td><td>'+fmtN(r.bsv_y1_units)+'</td><td>'+fmtN(r.bsv_y2_units)+'</td><td>'+fmtN(r.bsv_y3_units)+'</td><td>'+fmtK(r.bsv_ims)+'</td><td>'+fmtP(r.real_rate)+'</td><td><strong>'+fmtK(r.bsv_realized)+'</strong></td><td>'+r.data_source+volzaTag+'</td></tr>';
    });
    l2t += '</tbody></table>';
    document.getElementById('bsv-l2-table').innerHTML = l2t;
    
    // Charts
    if (window._bsvCharts.mol) window._bsvCharts.mol.destroy();
    if (window._bsvCharts.trend) window._bsvCharts.trend.destroy();
    
    const colors = ['#1a365d','#f97316','#16a34a','#dc2626','#8b5cf6'];
    const chartMols = Object.keys(l1Agg);
    window._bsvCharts.mol = new Chart(document.getElementById('chart-bsv-mol'), {
      type: 'bar',
      data: { labels: chartMols, datasets: [{label:'BSV Y3 Realized ($Mn)',data:chartMols.map(m=>l1Agg[m].rlzd),backgroundColor:colors}] },
      options: {responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{y:{title:{display:true,text:'$Mn'}}}}
    });
    
    // Y1/Y2/Y3 trend
    window._bsvCharts.trend = new Chart(document.getElementById('chart-bsv-trend'), {
      type: 'bar',
      data: {
        labels: chartMols,
        datasets: [
          {label:'Y1 ($Mn)',data:chartMols.map(m=>{const a=l1Agg[m];return a.entries.reduce((s,e)=>s+e.bsv_y1_units*e.price_unit*(1-0.30),0)/1e6;}),backgroundColor:'#93c5fd'},
          {label:'Y2 ($Mn)',data:chartMols.map(m=>{const a=l1Agg[m];return a.entries.reduce((s,e)=>s+e.bsv_y2_units*e.price_unit*(1-0.30),0)/1e6;}),backgroundColor:'#3b82f6'},
          {label:'Y3 Realized ($Mn)',data:chartMols.map(m=>l1Agg[m].rlzd),backgroundColor:'#1e3a5f'}
        ]
      },
      options: {responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom',labels:{font:{size:10}}}},scales:{y:{title:{display:true,text:'$Mn'}},x:{stacked:false}}}
    });
  };
  filterBSV();
}

// Initialize Tab 1
buildTab1();
</script>
</body>
</html>